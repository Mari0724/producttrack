"use strict";(self.webpackChunkdocs_web=self.webpackChunkdocs_web||[]).push([[383],{5325:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"backend/utils/zodValidate","title":"Validacion zod","description":"Aqu\xed tienes la documentaci\xf3n en formato .md para el archivo zodValidate.ts, ubicado en la carpeta utils:","source":"@site/docs/backend/utils/zodValidate.md","sourceDirName":"backend/utils","slug":"/backend/utils/zodValidate","permalink":"/docs/backend/utils/zodValidate","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/utils/zodValidate.md","tags":[],"version":"current","frontMatter":{"id":"zodValidate","title":"Validacion zod","sidebar_label":"Zod Validate"},"sidebar":"tutorialSidebar","previous":{"title":"Prisma Cient","permalink":"/docs/backend/utils/prismaClient"},"next":{"title":"\ud83d\udce6 Frontend","permalink":"/docs/frontend/"}}');var d=n(4848),r=n(8453);const t={id:"zodValidate",title:"Validacion zod",sidebar_label:"Zod Validate"},i=void 0,o={},l=[{value:"\ud83d\udcc4 zodValidate.ts",id:"-zodvalidatets",level:3},{value:"\ud83d\udd27 Funci\xf3n: zodValidate",id:"-funci\xf3n-zodvalidate",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito",level:3},{value:"\ud83d\udce5 Par\xe1metros:",id:"-par\xe1metros",level:3},{value:"\ud83d\udce4 Retorno:",id:"-retorno",level:3},{value:"\ud83e\udde0 Ejemplo de uso:",id:"-ejemplo-de-uso",level:3},{value:"\ud83e\uddf0 Utiliza:",id:"-utiliza",level:2}];function c(e){const a={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.p,{children:"Aqu\xed tienes la documentaci\xf3n en formato .md para el archivo zodValidate.ts, ubicado en la carpeta utils:"}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-zodvalidatets",children:"\ud83d\udcc4 zodValidate.ts"}),"\n",(0,d.jsxs)(a.p,{children:["Esta utilidad proporciona una funci\xf3n gen\xe9rica para validar datos con ",(0,d.jsx)(a.a,{href:"https://zod.dev/",children:"Zod"}),", simplificando el manejo de errores en controladores y servicios."]}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"-funci\xf3n-zodvalidate",children:"\ud83d\udd27 Funci\xf3n: zodValidate"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-ts",children:"export const zodValidate = <T>(\r\n  schema: ZodSchema<T>,\r\n  data: unknown\r\n): { success: true; data: T } | { success: false; error: string }\n"})}),"\n",(0,d.jsx)(a.h3,{id:"-prop\xf3sito",children:"\u2705 Prop\xf3sito:"}),"\n",(0,d.jsx)(a.p,{children:"Valida cualquier objeto de entrada contra un esquema de Zod y devuelve un resultado estandarizado que indica si la validaci\xf3n fue exitosa o no."}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-par\xe1metros",children:"\ud83d\udce5 Par\xe1metros:"}),"\n",(0,d.jsxs)(a.table,{children:[(0,d.jsx)(a.thead,{children:(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.th,{children:"Nombre"}),(0,d.jsx)(a.th,{children:"Tipo"}),(0,d.jsx)(a.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(a.tbody,{children:[(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:"schema"}),(0,d.jsx)(a.td,{children:"ZodSchema[T]"}),(0,d.jsx)(a.td,{children:"Esquema de Zod que define la forma y reglas de validaci\xf3n."})]}),(0,d.jsxs)(a.tr,{children:[(0,d.jsx)(a.td,{children:"data"}),(0,d.jsx)(a.td,{children:"unknown"}),(0,d.jsx)(a.td,{children:"Objeto de datos que se desea validar."})]})]})]}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-retorno",children:"\ud83d\udce4 Retorno:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["Si la validaci\xf3n es ",(0,d.jsx)(a.em,{children:"exitosa"}),":"]}),"\n"]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-ts",children:"{ success: true, data: T }\n"})}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsxs)(a.li,{children:["Si la validaci\xf3n ",(0,d.jsx)(a.em,{children:"falla"}),":"]}),"\n"]}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-ts",children:"{ success: false, error: string } // mensaje con errores concatenados\n"})}),"\n",(0,d.jsx)(a.p,{children:"El campo error contiene un resumen legible de todos los errores de validaci\xf3n en una sola cadena, \xfatil para mostrar en respuestas HTTP."}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h3,{id:"-ejemplo-de-uso",children:"\ud83e\udde0 Ejemplo de uso:"}),"\n",(0,d.jsx)(a.pre,{children:(0,d.jsx)(a.code,{className:"language-ts",children:'const result = zodValidate(userSchema, req.body);\r\n\r\nif (!result.success) {\r\n  res.status(400).json({ message: "Datos inv\xe1lidos", detalles: result.error });\r\n} else {\r\n  const usuarioValido = result.data;\r\n  // continuar con l\xf3gica de negocio\r\n}\n'})}),"\n",(0,d.jsx)(a.hr,{}),"\n",(0,d.jsx)(a.h2,{id:"-utiliza",children:"\ud83e\uddf0 Utiliza:"}),"\n",(0,d.jsxs)(a.ul,{children:["\n",(0,d.jsx)(a.li,{children:"Zod.safeParse: m\xe9todo seguro que evita excepciones y devuelve un objeto de \xe9xito o error."}),"\n",(0,d.jsx)(a.li,{children:"Mapeo de errores personalizados usando result.error.errors."}),"\n"]})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,d.jsx)(a,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>t,x:()=>i});var s=n(6540);const d={},r=s.createContext(d);function t(e){const a=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),s.createElement(r.Provider,{value:a},e.children)}}}]);