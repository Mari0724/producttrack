"use strict";(self.webpackChunkdocs_web=self.webpackChunkdocs_web||[]).push([[323],{3429:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"backend/index","title":"\ud83d\udce6 Backend","description":"Bienvenido a la documentaci\xf3n oficial del Backend de ProductTrack.","source":"@site/docs/backend/index.md","sourceDirName":"backend","slug":"/backend/","permalink":"/docs/backend/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/index.md","tags":[],"version":"current","frontMatter":{"id":"index","title":"\ud83d\udce6 Backend","sidebar_label":"\ud83d\udce6 Backend"},"sidebar":"tutorialSidebar","next":{"title":"app","permalink":"/docs/backend/app"}}');var s=r(4848),d=r(8453);const c={id:"index",title:"\ud83d\udce6 Backend",sidebar_label:"\ud83d\udce6 Backend"},i="\ud83d\udce6 Backend - ProductTrack",t={},o=[{value:"\ud83e\uddf1 Arquitectura",id:"-arquitectura",level:2},{value:"\ud83d\ude80 Tecnolog\xedas utilizadas",id:"-tecnolog\xedas-utilizadas",level:2},{value:"\ud83e\uddf1 Estructura del proyecto",id:"-estructura-del-proyecto",level:2},{value:"\ud83d\udcc1 \xbfQu\xe9 va en cada carpeta?",id:"-qu\xe9-va-en-cada-carpeta",level:2},{value:"\u2699\ufe0f Instalaci\xf3n y ejecuci\xf3n",id:"\ufe0f-instalaci\xf3n-y-ejecuci\xf3n",level:2},{value:"\ud83d\udee0\ufe0f Comandos \xfatiles",id:"\ufe0f-comandos-\xfatiles",level:2},{value:"\ud83d\udcd8 Documentaci\xf3n desplegada",id:"-documentaci\xf3n-desplegada",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-backend---producttrack",children:"\ud83d\udce6 Backend - ProductTrack"})}),"\n",(0,s.jsxs)(n.p,{children:["Bienvenido a la documentaci\xf3n oficial del Backend de ",(0,s.jsx)(n.strong,{children:"ProductTrack"}),".",(0,s.jsx)(n.br,{}),"\n","Aqu\xed encontrar\xe1s la arquitectura, tecnolog\xedas utilizadas, estructura de carpetas y gu\xedas para instalar, ejecutar y mantener este servicio."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-arquitectura",children:"\ud83e\uddf1 Arquitectura"}),"\n",(0,s.jsx)(n.p,{children:'La arquitectura se conoce com\xfanmente como "Arquitectura en capas" (o Layered Architecture), y tambi\xe9n se puede describir como una arquitectura modular basada en responsabilidad separada.'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-tecnolog\xedas-utilizadas",children:"\ud83d\ude80 Tecnolog\xedas utilizadas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node.js"})," \u2013 Motor de ejecuci\xf3n JavaScript"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Express"})," \u2013 Framework para manejar rutas y middlewares"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TypeScript"})," \u2013 Tipado est\xe1tico para mayor mantenibilidad"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TSOA"})," \u2013 Decoradores para generar rutas y documentaci\xf3n Swagger"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zod"})," \u2013 Validaci\xf3n de datos segura"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prisma"})," \u2013 ORM para PostgreSQL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Swagger UI"})," \u2013 Documentaci\xf3n autom\xe1tica de la API"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multer y Cloudinary"})," \u2013 Para gesti\xf3n de im\xe1genes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"JWT (jsonwebtoken)"})," \u2013 Autenticaci\xf3n basada en tokens"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bcrypt"})," \u2013 Encriptaci\xf3n de contrase\xf1as"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-estructura-del-proyecto",children:"\ud83e\uddf1 Estructura del proyecto"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\r\n\ud83d\udce6 backend/\r\n\u251c\u2500\u2500 \ud83d\udcc1 docs/                 # Documentaci\xf3n Swagger generada por TSOA\r\n\u251c\u2500\u2500 \ud83d\udcc1 generated/            # Archivos generados autom\xe1ticamente por TSOA\r\n\u251c\u2500\u2500 \ud83d\udcc1 node\\_modules/         # Dependencias instaladas\r\n\u251c\u2500\u2500 \ud83d\udcc1 prisma/               # Esquema de base de datos Prisma y migraciones\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 migrations/\r\n\u2502   \u2514\u2500\u2500 \ud83d\udcc4 schema.prisma\r\n\u251c\u2500\u2500 \ud83d\udcc1 src/                  # C\xf3digo fuente principal\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 app.ts            # Configuraci\xf3n de Express y middlewares\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 index.ts          # Punto de entrada del servidor (listener)\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 config/           # Configuraciones como Cloudinary, JWT, etc.\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 controllers/      # Controladores de TSOA (l\xf3gica de endpoints)\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 interfaces/       # Tipos e interfaces de dominio\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 middleware/       # Middlewares personalizados (auth, errores, etc.)\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 models/           # DTOs y esquemas Zod para validaci\xf3n\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 routes/           # Enrutamiento manual si aplica\r\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 services/         # L\xf3gica de negocio y conexi\xf3n con repositorios\r\n\u2502   \u2514\u2500\u2500 \ud83d\udcc1 utils/            # Funciones auxiliares reutilizables\r\n\u251c\u2500\u2500 \ud83d\udcc4 .env                  # Variables de entorno (ocultas al subir)\r\n\u251c\u2500\u2500 \ud83d\udcc4 package.json          # Scripts y dependencias del proyecto\r\n\u251c\u2500\u2500 \ud83d\udcc4 package-lock.json     # Lockfile de versiones exactas\r\n\u251c\u2500\u2500 \ud83d\udcc4 tsconfig.json         # Configuraci\xf3n del compilador TypeScript\r\n\u251c\u2500\u2500 \ud83d\udcc4 tsoa.json             # Configuraci\xf3n del generador de TSOA\r\n\u2514\u2500\u2500 \ud83d\udcc4 README.md             # Documentaci\xf3n principal del proyecto\r\n\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-qu\xe9-va-en-cada-carpeta",children:"\ud83d\udcc1 \xbfQu\xe9 va en cada carpeta?"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Carpeta"}),(0,s.jsx)(n.th,{children:"\xbfQu\xe9 contiene?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"config/"})}),(0,s.jsx)(n.td,{children:"Archivos de configuraci\xf3n externa (ej. Cloudinary, JWT, etc.)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"controllers/"})}),(0,s.jsxs)(n.td,{children:["Clases decoradas con ",(0,s.jsx)(n.code,{children:"@Route"}),", ",(0,s.jsx)(n.code,{children:"@Get"}),", ",(0,s.jsx)(n.code,{children:"@Post"}),", etc. usando TSOA"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"interfaces/"})}),(0,s.jsx)(n.td,{children:"Interfaces para tipado fuerte de entidades y respuestas"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"middleware/"})}),(0,s.jsx)(n.td,{children:"Middlewares para validaciones, autenticaci\xf3n y manejo de errores"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"models/"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"dto/"})," para estructuras de datos (entrada/salida) y ",(0,s.jsx)(n.code,{children:"schemas/"})," para validaciones con Zod"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"routes/"})}),(0,s.jsx)(n.td,{children:"Rutas personalizadas (si se manejan fuera de TSOA)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"services/"})}),(0,s.jsx)(n.td,{children:"L\xf3gica de negocio reutilizable y conexi\xf3n con Prisma u otras APIs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"utils/"})}),(0,s.jsx)(n.td,{children:"Funciones utilitarias como validadores, clientes reutilizables, helpers, etc."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"prisma/"})}),(0,s.jsxs)(n.td,{children:["Archivo ",(0,s.jsx)(n.code,{children:"schema.prisma"})," y migraciones generadas por Prisma"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"docs/"})}),(0,s.jsx)(n.td,{children:"Documentaci\xf3n Swagger JSON generada por TSOA"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"generated/"})}),(0,s.jsx)(n.td,{children:"C\xf3digo generado por TSOA autom\xe1ticamente (no editar manualmente)"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-instalaci\xf3n-y-ejecuci\xf3n",children:"\u2699\ufe0f Instalaci\xf3n y ejecuci\xf3n"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Clona el repositorio\r\ngit clone https://github.com/tuusuario/tu-repo.git\r\ncd tu-repo\r\n\r\n# Instala dependencias\r\nnpm install\r\n\r\n# Genera las rutas y Swagger con TSOA\r\nnpx tsoa routes && npx tsoa spec\r\n\r\n# Ejecuta en modo desarrollo\r\nnpm run dev\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-comandos-\xfatiles",children:"\ud83d\udee0\ufe0f Comandos \xfatiles"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run dev                 # Ejecuta el servidor en modo desarrollo\r\nnpm run build               # Compila el c\xf3digo TypeScript a JavaScript\r\nnpx prisma migrate dev      # Aplica migraciones de base de datos\r\nnpx prisma studio           # Interfaz visual para manejar datos en la base\r\nnpx tsoa routes && spec     # Genera rutas y Swagger a partir de decoradores\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-documentaci\xf3n-desplegada",children:"\ud83d\udcd8 Documentaci\xf3n desplegada"}),"\n",(0,s.jsx)(n.p,{children:"El backend de ProductTrack est\xe1 desplegado en:"}),"\n",(0,s.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,s.jsx)(n.a,{href:"https://producttrack-production.up.railway.app/",children:(0,s.jsx)(n.code,{children:"https://producttrack-production.up.railway.app/"})})]}),"\n",(0,s.jsxs)(n.p,{children:["Para acceder a la documentaci\xf3n Swagger generada por TSOA, puedes agregar ",(0,s.jsx)(n.code,{children:"/docs"})," al final de la URL:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://producttrack-production.up.railway.app/docs\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,s.jsx)(n.strong,{children:"Nota:"})," Por motivos de seguridad, la documentaci\xf3n Swagger est\xe1 deshabilitada en el entorno de producci\xf3n.\r\nSi deseas acceder a Swagger, debes correr el backend ",(0,s.jsx)(n.strong,{children:"en local"})," y entrar a:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://localhost:3000/docs\n"})})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>i});var a=r(6540);const s={},d=a.createContext(s);function c(e){const n=a.useContext(d);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),a.createElement(d.Provider,{value:n},e.children)}}}]);