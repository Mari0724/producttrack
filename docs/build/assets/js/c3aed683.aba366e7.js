"use strict";(self.webpackChunkdocs_web=self.webpackChunkdocs_web||[]).push([[282],{2125:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"backend/utils/cronjobs","title":"Cron Jobs","description":"Este m\xf3dulo configura una tarea programada (cron job) que se ejecuta autom\xe1ticamente todos los d\xedas a las 8:00 AM para enviar notificaciones sobre productos con stock bajo. Utiliza la biblioteca node-cron y una funci\xf3n del servicio de notificaciones.","source":"@site/docs/backend/utils/cronjobs.md","sourceDirName":"backend/utils","slug":"/backend/utils/cronjobs","permalink":"/docs/backend/utils/cronjobs","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/utils/cronjobs.md","tags":[],"version":"current","frontMatter":{"id":"cronjobs","title":"Cron Jobs","sidebar_label":"Notificaci\xf3n diaria de stock bajo"},"sidebar":"tutorialSidebar","previous":{"title":"Check Permissions","permalink":"/docs/backend/utils/checkPermissions"},"next":{"title":"Prisma Cient","permalink":"/docs/backend/utils/prismaClient"}}');var c=i(4848),a=i(8453);const s={id:"cronjobs",title:"Cron Jobs",sidebar_label:"Notificaci\xf3n diaria de stock bajo"},r="Notificaci\xf3n diaria de stock bajo",t={},d=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\u23f0 Cron Job programado",id:"-cron-job-programado",level:2},{value:"\u2705 Prop\xf3sito",id:"-prop\xf3sito",level:2},{value:"\ud83d\udcc6 Frecuencia",id:"-frecuencia",level:2},{value:"\ud83d\udd04 Comportamiento",id:"-comportamiento",level:2},{value:"\ud83d\udce6 Dependencias",id:"-dependencias",level:2},{value:"\ud83e\udde0 Ejemplo de modificaci\xf3n",id:"-ejemplo-de-modificaci\xf3n",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"notificaci\xf3n-diaria-de-stock-bajo",children:"Notificaci\xf3n diaria de stock bajo"})}),"\n",(0,c.jsxs)(n.p,{children:["Este m\xf3dulo configura una tarea programada (cron job) que se ejecuta autom\xe1ticamente todos los d\xedas a las 8:00 AM para enviar notificaciones sobre productos con stock bajo. Utiliza la biblioteca ",(0,c.jsx)(n.code,{children:"node-cron"})," y una funci\xf3n del servicio de notificaciones."]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"src/utils/cronjobs.ts"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-cron-job-programado",children:"\u23f0 Cron Job programado"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:"cron.schedule('0 8 * * *', async () => {\r\n  console.log('Ejecutando notificaci\xf3n de stock bajo...');\r\n  await notificarStockBajo();\r\n});\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-prop\xf3sito",children:"\u2705 Prop\xf3sito"}),"\n",(0,c.jsxs)(n.p,{children:["Ejecutar autom\xe1ticamente la funci\xf3n ",(0,c.jsx)(n.code,{children:"notificarStockBajo"})," cada ma\xf1ana a las ",(0,c.jsx)(n.strong,{children:"8:00 AM"}),", con el fin de alertar sobre productos que necesitan reposici\xf3n."]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-frecuencia",children:"\ud83d\udcc6 Frecuencia"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Expresi\xf3n cron"}),(0,c.jsx)(n.th,{children:"Significado"})]})}),(0,c.jsx)(n.tbody,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"0 8 * * *"})}),(0,c.jsx)(n.td,{children:"Todos los d\xedas a las 08:00 AM"})]})})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-comportamiento",children:"\ud83d\udd04 Comportamiento"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["A las ",(0,c.jsx)(n.strong,{children:"8:00 AM"}),", el cron job se activa."]}),"\n",(0,c.jsxs)(n.li,{children:["Se imprime un mensaje en la consola: ",(0,c.jsx)(n.code,{children:'"Ejecutando notificaci\xf3n de stock bajo..."'}),"."]}),"\n",(0,c.jsxs)(n.li,{children:["Se ejecuta la funci\xf3n ",(0,c.jsx)(n.code,{children:"notificarStockBajo"}),", que consulta el inventario y env\xeda alertas si es necesario."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-dependencias",children:"\ud83d\udce6 Dependencias"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"node-cron"}),": biblioteca para programar tareas cron en Node.js."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"notificarStockBajo"}),": funci\xf3n ubicada en ",(0,c.jsx)(n.code,{children:"src/services/notificaciones/notificar.StockBajo.ts"}),"."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-ejemplo-de-modificaci\xf3n",children:"\ud83e\udde0 Ejemplo de modificaci\xf3n"}),"\n",(0,c.jsxs)(n.p,{children:["Si deseas cambiar la hora de ejecuci\xf3n a las ",(0,c.jsx)(n.strong,{children:"9:30 PM"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:"cron.schedule('30 21 * * *', async () => {\r\n  await notificarStockBajo();\r\n});\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var o=i(6540);const c={},a=o.createContext(c);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);