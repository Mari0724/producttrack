"use strict";(self.webpackChunkdocs_web=self.webpackChunkdocs_web||[]).push([[661],{7620:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"backend/services/productos-service","title":"Servicios de Productos","description":"Este m\xf3dulo contiene funciones para gestionar productos en la base de datos, incluyendo filtros avanzados, creaci\xf3n, actualizaci\xf3n con Cloudinary, eliminaci\xf3n l\xf3gica, y an\xe1lisis como cantidad por categor\xeda o rangos de precio. Utiliza Prisma como ORM y Cloudinary para la gesti\xf3n de im\xe1genes.","source":"@site/docs/backend/services/Productos.service.md","sourceDirName":"backend/services","slug":"/backend/services/productos-service","permalink":"/docs/backend/services/productos-service","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/services/Productos.service.md","tags":[],"version":"current","frontMatter":{"id":"productos-service","title":"Servicios de Productos","sidebar_label":"Servicios de Productos"},"sidebar":"tutorialSidebar","previous":{"title":"Upload","permalink":"/docs/backend/middleware/upload"},"next":{"title":"Notificaci\xf3n de productos vencidos","permalink":"/docs/backend/services/notificaciones/notificar-producto-vencido"}}');var r=o(4848),c=o(8453);const s={id:"productos-service",title:"Servicios de Productos",sidebar_label:"Servicios de Productos"},a="Servicios de Productos",t={},d=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udd0e Funci\xf3n: getAllProductos",id:"-funci\xf3n-getallproductos",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito",level:4},{value:"\ud83d\udd0e Funci\xf3n: getProductoById",id:"-funci\xf3n-getproductobyid",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-1",level:4},{value:"\ud83d\udce6 Funci\xf3n: getCategoriasUnicas",id:"-funci\xf3n-getcategoriasunicas",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-2",level:4},{value:"\ud83d\udcca Funci\xf3n: getCantidadPorCategoria",id:"-funci\xf3n-getcantidadporcategoria",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-3",level:4},{value:"\ud83d\udcc1 Funci\xf3n: getProductosPorCategoria",id:"-funci\xf3n-getproductosporcategoria",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-4",level:4},{value:"\ud83d\udcb0 Funci\xf3n: getCantidadPorRangoPrecio",id:"-funci\xf3n-getcantidadporrangoprecio",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-5",level:4},{value:"\u2601\ufe0f Funci\xf3n: subirImagenCloudinary",id:"\ufe0f-funci\xf3n-subirimagencloudinary",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-6",level:4},{value:"\ud83c\udd95 Funci\xf3n: createProducto",id:"-funci\xf3n-createproducto",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-7",level:4},{value:"\u270f\ufe0f Funci\xf3n: updateProducto",id:"\ufe0f-funci\xf3n-updateproducto",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-8",level:4},{value:"\u274c Funci\xf3n: deleteProducto",id:"-funci\xf3n-deleteproducto",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito-9",level:4}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"servicios-de-productos",children:"Servicios de Productos"})}),"\n",(0,r.jsx)(n.p,{children:"Este m\xf3dulo contiene funciones para gestionar productos en la base de datos, incluyendo filtros avanzados, creaci\xf3n, actualizaci\xf3n con Cloudinary, eliminaci\xf3n l\xf3gica, y an\xe1lisis como cantidad por categor\xeda o rangos de precio. Utiliza Prisma como ORM y Cloudinary para la gesti\xf3n de im\xe1genes."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"src/services/Productos.service.ts"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-getallproductos",children:"\ud83d\udd0e Funci\xf3n: getAllProductos"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export const getAllProductos = async (filters: any)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Obtiene todos los productos que cumplen con los filtros opcionales (ID, nombre, categor\xeda, estado, usuarioId y rangos de fechas)."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-getproductobyid",children:"\ud83d\udd0e Funci\xf3n: getProductoById"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function getProductoById(id: number)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-1",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Devuelve un producto espec\xedfico seg\xfan su ID."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-getcategoriasunicas",children:"\ud83d\udce6 Funci\xf3n: getCategoriasUnicas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function getCategoriasUnicas(): Promise<string[]>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-2",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Obtiene todas las categor\xedas \xfanicas que han sido asignadas a productos."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-getcantidadporcategoria",children:"\ud83d\udcca Funci\xf3n: getCantidadPorCategoria"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function getCantidadPorCategoria()\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-3",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Cuenta cu\xe1ntos productos hay en cada categor\xeda, excluyendo los eliminados."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-getproductosporcategoria",children:"\ud83d\udcc1 Funci\xf3n: getProductosPorCategoria"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function getProductosPorCategoria(categoria: string)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-4",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Obtiene todos los productos que pertenecen a una categor\xeda espec\xedfica."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-getcantidadporrangoprecio",children:"\ud83d\udcb0 Funci\xf3n: getCantidadPorRangoPrecio"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function getCantidadPorRangoPrecio()\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-5",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Clasifica los productos seg\xfan el rango de precios y devuelve la cantidad de productos en cada rango."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-funci\xf3n-subirimagencloudinary",children:"\u2601\ufe0f Funci\xf3n: subirImagenCloudinary"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export const subirImagenCloudinary = async (imagenBase64: string): Promise<string>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-6",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Sube una imagen codificada en base64 a Cloudinary y devuelve su URL segura."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-createproducto",children:"\ud83c\udd95 Funci\xf3n: createProducto"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function createProducto(data: ProductosDTO)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-7",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Crea un nuevo producto con los datos proporcionados, convirtiendo tipos donde sea necesario (precio, fechas, etc.)."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-funci\xf3n-updateproducto",children:"\u270f\ufe0f Funci\xf3n: updateProducto"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function updateProducto(id: number, data: Partial<ProductosDTO>)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-8",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Actualiza un producto existente. Si se proporciona una nueva imagen, elimina la anterior de Cloudinary antes de subir la nueva."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funci\xf3n-deleteproducto",children:"\u274c Funci\xf3n: deleteProducto"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export async function deleteProducto(id: number)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-prop\xf3sito-9",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(n.p,{children:"Realiza una eliminaci\xf3n l\xf3gica del producto, marcando su campo eliminadoEn con la fecha actual."}),"\n",(0,r.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>a});var i=o(6540);const r={},c=i.createContext(r);function s(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);