"use strict";(self.webpackChunkdocs_web=self.webpackChunkdocs_web||[]).push([[665],{8453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>t});var i=o(6540);const c={},r=i.createContext(c);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},9636:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"backend/services/notificaciones/notificarComentarioProducto","title":"notificarComentarioProducto","description":"Este servicio crea notificaciones para todos los miembros de una empresa cuando un producto recibe un nuevo comentario. Est\xe1 dise\xf1ado para mantener informado al equipo del propietario del producto sobre la actividad en sus publicaciones.","source":"@site/docs/backend/services/notificaciones/notificarComentarioProducto.md","sourceDirName":"backend/services/notificaciones","slug":"/backend/services/notificaciones/notificarComentarioProducto","permalink":"/docs/backend/services/notificaciones/notificarComentarioProducto","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/services/notificaciones/notificarComentarioProducto.md","tags":[],"version":"current","frontMatter":{"id":"notificarComentarioProducto","title":"notificarComentarioProducto","sidebar_label":"Notificar comentario en producto"},"sidebar":"tutorialSidebar","previous":{"title":"Notificar Actualizaci\xf3n App","permalink":"/docs/backend/services/notificaciones/notificarActualizacion"},"next":{"title":"Notificaci\xf3n de reposici\xf3n recomendada","permalink":"/docs/backend/services/notificaciones/notificarReposicion"}}');var c=o(4848),r=o(8453);const a={id:"notificarComentarioProducto",title:"notificarComentarioProducto",sidebar_label:"Notificar comentario en producto"},t="Notificar comentario en producto",s={},d=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udd14 Funci\xf3n: notificarComentarioProducto",id:"-funci\xf3n-notificarcomentarioproducto",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito",level:4},{value:"\ud83d\udce5 Par\xe1metros",id:"-par\xe1metros",level:3},{value:"\ud83d\udce4 Retorno",id:"-retorno",level:3},{value:"\ud83d\udd0d Comportamiento:",id:"-comportamiento",level:2},{value:"\ud83d\udccc Condiciones de validaci\xf3n:",id:"-condiciones-de-validaci\xf3n",level:2},{value:"\ud83d\udce6 Dependencias:",id:"-dependencias",level:2},{value:"\ud83e\udde0 Ejemplo de contenido generado:",id:"-ejemplo-de-contenido-generado",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"notificar-comentario-en-producto",children:"Notificar comentario en producto"})}),"\n",(0,c.jsx)(n.p,{children:"Este servicio crea notificaciones para todos los miembros de una empresa cuando un producto recibe un nuevo comentario. Est\xe1 dise\xf1ado para mantener informado al equipo del propietario del producto sobre la actividad en sus publicaciones."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"src/services/notificaciones/notificarComentarioProducto.ts"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-funci\xf3n-notificarcomentarioproducto",children:"\ud83d\udd14 Funci\xf3n: notificarComentarioProducto"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",children:"export async function notificarComentarioProducto(idComentario: number): Promise<void>\n"})}),"\n",(0,c.jsx)(n.h4,{id:"-prop\xf3sito",children:"\u2705 Prop\xf3sito:"}),"\n",(0,c.jsx)(n.p,{children:"Enviar notificaciones autom\xe1ticas a los miembros de una empresa cuando un producto recibe un nuevo comentario."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"-par\xe1metros",children:"\ud83d\udce5 Par\xe1metros"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Nombre"}),(0,c.jsx)(n.th,{children:"Tipo"}),(0,c.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,c.jsx)(n.tbody,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"idComentario"}),(0,c.jsx)(n.td,{children:"number"}),(0,c.jsx)(n.td,{children:"Identificador del comentario que se acaba de crear."})]})})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"-retorno",children:"\ud83d\udce4 Retorno"}),"\n",(0,c.jsx)(n.p,{children:"No retorna datos. Si todo va bien, crea m\xfaltiples notificaciones en la base de datos."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-comportamiento",children:"\ud83d\udd0d Comportamiento:"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Busca el comentario usando su ID, incluyendo el producto y el due\xf1o del producto."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Verifica que el comentario, producto y due\xf1o existan."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Verifica que el due\xf1o del producto pertenezca a una empresa."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Obtiene todos los miembros de esa empresa."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Genera una notificaci\xf3n personalizada para cada miembro."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Inserta todas las notificaciones en la base de datos usando createMany."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-condiciones-de-validaci\xf3n",children:"\ud83d\udccc Condiciones de validaci\xf3n:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Si no se encuentra el comentario, producto o usuario \u2192 se emite una advertencia y se termina el proceso."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Si el due\xf1o del producto no pertenece a una empresa \u2192 se emite una advertencia y se cancela la notificaci\xf3n."}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-dependencias",children:"\ud83d\udce6 Dependencias:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Prisma ORM (",(0,c.jsx)(n.code,{children:"prismaClient.ts"}),")"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Enumeraci\xf3n ",(0,c.jsx)(n.code,{children:"TipoNotificacion"})," de ",(0,c.jsx)(n.code,{children:"@prisma/client"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-ejemplo-de-contenido-generado",children:"\ud83e\udde0 Ejemplo de contenido generado:"}),"\n",(0,c.jsxs)(n.p,{children:["T\xedtulo:\r\n",(0,c.jsx)(n.code,{children:"Nuevo comentario en producto: Leche deslactosada en bolsa 1L"})]}),"\n",(0,c.jsxs)(n.p,{children:["Mensaje:\r\n",(0,c.jsx)(n.code,{children:'Se ha comentado el producto "Leche deslactosada en bolsa 1L": "Muy buen producto, me gust\xf3 bastante."'})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}}}]);