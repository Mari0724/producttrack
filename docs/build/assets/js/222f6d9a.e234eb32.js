"use strict";(self.webpackChunkdocs_web=self.webpackChunkdocs_web||[]).push([[703],{30:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"backend/types/express-d","title":"Express.d","description":"Este archivo extiende el tipo Request de Express para incluir informaci\xf3n del usuario autenticado.","source":"@site/docs/backend/types/types.d.md","sourceDirName":"backend/types","slug":"/backend/types/express-d","permalink":"/docs/backend/types/express-d","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/types/types.d.md","tags":[],"version":"current","frontMatter":{"id":"express-d","title":"Express.d","sidebar_label":"Express.d"},"sidebar":"tutorialSidebar","previous":{"title":"Servidor","permalink":"/docs/backend/Servidor"},"next":{"title":"Autentificacion jwt","permalink":"/docs/backend/utils/jwt"}}');var i=r(4848),t=r(8453);const d={id:"express-d",title:"Express.d",sidebar_label:"Express.d"},a="\ud83d\udcc4 express.d.ts",c={},o=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83e\udde0 \xbfPor qu\xe9 usarlo?",id:"-por-qu\xe9-usarlo",level:2},{value:"\ud83d\udce6 Importaciones",id:"-importaciones",level:2},{value:"\ud83e\uddf1 Interfaz personalizada",id:"-interfaz-personalizada",level:2},{value:"\ud83d\udd10 Campos incluidos",id:"-campos-incluidos",level:3},{value:"\ud83e\uddf0 Uso t\xedpico",id:"-uso-t\xedpico",level:2},{value:"\u2705 Ventajas",id:"-ventajas",level:2}];function l(e){const s={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"-expressdts",children:"\ud83d\udcc4 express.d.ts"})}),"\n",(0,i.jsxs)(s.p,{children:["Este archivo extiende el tipo ",(0,i.jsx)(s.code,{children:"Request"})," de Express para incluir informaci\xf3n del usuario autenticado.",(0,i.jsx)(s.br,{}),"\n","Es especialmente \xfatil para middleware de autenticaci\xf3n o rutas protegidas donde necesitas acceder al usuario desde ",(0,i.jsx)(s.code,{children:"req.user"}),"."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"src/types/express.d.ts"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-por-qu\xe9-usarlo",children:"\ud83e\udde0 \xbfPor qu\xe9 usarlo?"}),"\n",(0,i.jsxs)(s.p,{children:["En TypeScript, la interfaz ",(0,i.jsx)(s.code,{children:"Request"})," de Express no incluye por defecto una propiedad ",(0,i.jsx)(s.code,{children:"user"}),".",(0,i.jsx)(s.br,{}),"\n","Sin esta extensi\xf3n, acceder a ",(0,i.jsx)(s.code,{children:"req.user"})," generar\xeda un error de tipo. Este archivo soluciona eso."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-importaciones",children:"\ud83d\udce6 Importaciones"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:'import { Request } from "express";\n'})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Se importa la interfaz Request base de Express."}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-interfaz-personalizada",children:"\ud83e\uddf1 Interfaz personalizada"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"export interface AuthenticatedRequest extends Request {\r\n  user?: {\r\n    id: number;\r\n    rol: string;\r\n    // puedes agregar m\xe1s campos si los necesitas\r\n  };\r\n}\n"})}),"\n",(0,i.jsx)(s.h3,{id:"-campos-incluidos",children:"\ud83d\udd10 Campos incluidos"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Campo"}),(0,i.jsx)(s.th,{children:"Tipo"}),(0,i.jsx)(s.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"id"}),(0,i.jsx)(s.td,{children:"number"}),(0,i.jsx)(s.td,{children:"Identificador \xfanico del usuario autenticado."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"rol"}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:'Rol del usuario (por ejemplo: "ADMIN", "EQUIPO").'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"user"}),(0,i.jsx)(s.td,{children:"opcional"}),(0,i.jsx)(s.td,{children:"Es opcional para evitar errores cuando no hay sesi\xf3n."})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-uso-t\xedpico",children:"\ud83e\uddf0 Uso t\xedpico"}),"\n",(0,i.jsx)(s.p,{children:"Esta interfaz se utiliza en middlewares o controladores as\xed:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:'import { AuthenticatedRequest } from "../types/express";\r\n\r\nconst rutaProtegida = (req: AuthenticatedRequest, res: Response) => {\r\n  const usuario = req.user;\r\n  if (!usuario) return res.status(401).send("No autorizado");\r\n\r\n  res.send(`Hola usuario con ID ${usuario.id}`);\r\n};\n'})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-ventajas",children:"\u2705 Ventajas"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Mejora la ",(0,i.jsx)(s.em,{children:"seguridad de tipos"})," (type safety)."]}),"\n",(0,i.jsx)(s.li,{children:"Evita errores al acceder a propiedades de req.user."}),"\n",(0,i.jsx)(s.li,{children:"Facilita el trabajo en entornos con autenticaci\xf3n JWT u OAuth."}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>d,x:()=>a});var n=r(6540);const i={},t=n.createContext(i);function d(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);