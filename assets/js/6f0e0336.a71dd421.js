"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9494],{4199:(i,e,n)=>{n.r(e),n.d(e,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"frontend/api/notificaciones-api","title":"API de Notificaciones","description":"Este archivo contiene funciones para interactuar con la API de notificaciones, incluyendo obtenci\xf3n de notificaciones, preferencias del usuario, y el env\xedo de notificaciones personalizadas. Utiliza una instancia de Axios configurada para el proyecto.","source":"@site/docs/frontend/api/notificaciones.md","sourceDirName":"frontend/api","slug":"/frontend/api/notificaciones-api","permalink":"/producttrack/docs/frontend/api/notificaciones-api","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/api/notificaciones.md","tags":[],"version":"current","frontMatter":{"id":"notificaciones-api","title":"API de Notificaciones","sidebar_label":"notificaciones"},"sidebar":"tutorialSidebar","previous":{"title":"historial","permalink":"/producttrack/docs/frontend/api/historial-api"},"next":{"title":"preferencias","permalink":"/producttrack/docs/frontend/api/preferencias-api"}}');var o=n(4848),s=n(8453);const c={id:"notificaciones-api",title:"API de Notificaciones",sidebar_label:"notificaciones"},r=void 0,t={},d=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udce6 Dependencias utilizadas",id:"-dependencias-utilizadas",level:2},{value:"\ud83d\udd27 Funciones disponibles",id:"-funciones-disponibles",level:2},{value:"\ud83d\udfe2 <code>GET</code> - Obtener datos",id:"-get---obtener-datos",level:3},{value:"\ud83d\udcec <code>getNotificacionesUsuario(idUsuario: number)</code>",id:"-getnotificacionesusuarioidusuario-number",level:4},{value:"\ud83d\udce6 <code>getProductosDelUsuario(idUsuario: number)</code>",id:"-getproductosdelusuarioidusuario-number",level:4},{value:"\u2699\ufe0f <code>getPreferenciasUsuario(idUsuario: number)</code>",id:"\ufe0f-getpreferenciasusuarioidusuario-number",level:4},{value:"\ud83d\udfe0 <code>PATCH</code> - Actualizar datos",id:"-patch---actualizar-datos",level:3},{value:"\u2705 <code>marcarNotificacionLeida(idNotificacion: number)</code>",id:"-marcarnotificacionleidaidnotificacion-number",level:4},{value:"\ud83e\udde9 <code>actualizarPreferenciasUsuario(idUsuario, preferencias)</code>",id:"-actualizarpreferenciasusuarioidusuario-preferencias",level:4},{value:"\ud83d\udd35 <code>POST</code> - Enviar notificaciones",id:"-post---enviar-notificaciones",level:3},{value:"\ud83d\ude80 <code>enviarNotificacionActualizacion(data)</code>",id:"-enviarnotificacionactualizaciondata",level:4},{value:"\ud83d\udd01 <code>enviarNotificacionReposicion(data)</code>",id:"-enviarnotificacionreposiciondata",level:4},{value:"\ud83d\ude80 Ejemplo de uso",id:"-ejemplo-de-uso",level:2},{value:"\ud83d\udcdd Notas adicionales",id:"-notas-adicionales",level:2}];function l(i){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...i.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["Este archivo contiene funciones para interactuar con la API de ",(0,o.jsx)(e.strong,{children:"notificaciones"}),", incluyendo obtenci\xf3n de notificaciones, preferencias del usuario, y el env\xedo de notificaciones personalizadas. Utiliza una instancia de Axios configurada para el proyecto."]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.code,{children:"src/api/notificaciones.ts"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"-dependencias-utilizadas",children:"\ud83d\udce6 Dependencias utilizadas"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import axiosInstance from "../utils/axiosInstance";\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"axiosInstance"}),": Instancia de Axios personalizada con configuraci\xf3n global (headers, baseURL, etc.)."]}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"-funciones-disponibles",children:"\ud83d\udd27 Funciones disponibles"}),"\n",(0,o.jsxs)(e.h3,{id:"-get---obtener-datos",children:["\ud83d\udfe2 ",(0,o.jsx)(e.code,{children:"GET"})," - Obtener datos"]}),"\n",(0,o.jsxs)(e.h4,{id:"-getnotificacionesusuarioidusuario-number",children:["\ud83d\udcec ",(0,o.jsx)(e.code,{children:"getNotificacionesUsuario(idUsuario: number)"})]}),"\n",(0,o.jsx)(e.p,{children:"Obtiene todas las notificaciones asociadas al usuario."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"export async function getNotificacionesUsuario(idUsuario: number) {\r\n  const response = await axiosInstance.get(`/notificaciones/usuario/${idUsuario}`);\r\n  return response.data;\r\n}\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.h4,{id:"-getproductosdelusuarioidusuario-number",children:["\ud83d\udce6 ",(0,o.jsx)(e.code,{children:"getProductosDelUsuario(idUsuario: number)"})]}),"\n",(0,o.jsx)(e.p,{children:"Obtiene los productos registrados por un usuario."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"export async function getProductosDelUsuario(idUsuario: number) {\r\n  const response = await axiosInstance.get(`/productos/nombres/${idUsuario}`);\r\n  return response.data;\r\n}\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.h4,{id:"\ufe0f-getpreferenciasusuarioidusuario-number",children:["\u2699\ufe0f ",(0,o.jsx)(e.code,{children:"getPreferenciasUsuario(idUsuario: number)"})]}),"\n",(0,o.jsx)(e.p,{children:"Obtiene las preferencias de notificaci\xf3n actuales del usuario."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"export const getPreferenciasUsuario = async (idUsuario: number) => {\r\n  const response = await axiosInstance.get(`/preferencias-notificaciones/${idUsuario}`);\r\n  return response.data;\r\n};\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.h3,{id:"-patch---actualizar-datos",children:["\ud83d\udfe0 ",(0,o.jsx)(e.code,{children:"PATCH"})," - Actualizar datos"]}),"\n",(0,o.jsxs)(e.h4,{id:"-marcarnotificacionleidaidnotificacion-number",children:["\u2705 ",(0,o.jsx)(e.code,{children:"marcarNotificacionLeida(idNotificacion: number)"})]}),"\n",(0,o.jsx)(e.p,{children:"Marca una notificaci\xf3n como le\xedda."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"export async function marcarNotificacionLeida(idNotificacion: number) {\r\n  const response = await axiosInstance.patch(`/notificaciones/${idNotificacion}`);\r\n  return response.data;\r\n}\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.h4,{id:"-actualizarpreferenciasusuarioidusuario-preferencias",children:["\ud83e\udde9 ",(0,o.jsx)(e.code,{children:"actualizarPreferenciasUsuario(idUsuario, preferencias)"})]}),"\n",(0,o.jsx)(e.p,{children:"Actualiza las preferencias del usuario para las notificaciones que desea recibir."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"export const actualizarPreferenciasUsuario = async (\r\n  idUsuario: number,\r\n  preferencias: {\r\n    stockBajo?: boolean;\r\n    productoVencido?: boolean;\r\n    comentarios?: boolean;\r\n    reposicion?: boolean;\r\n    actualizacion?: boolean;\r\n  }\r\n) => {\r\n  const { data } = await axiosInstance.patch(\r\n    `/notificaciones/preferencias/${idUsuario}`,\r\n    preferencias\r\n  );\r\n  return data;\r\n};\n"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"\ud83e\udde0 Este m\xe9todo acepta un objeto con preferencias booleanas. Cada campo es opcional y se puede actualizar parcialmente."}),"\n"]}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.h3,{id:"-post---enviar-notificaciones",children:["\ud83d\udd35 ",(0,o.jsx)(e.code,{children:"POST"})," - Enviar notificaciones"]}),"\n",(0,o.jsxs)(e.h4,{id:"-enviarnotificacionactualizaciondata",children:["\ud83d\ude80 ",(0,o.jsx)(e.code,{children:"enviarNotificacionActualizacion(data)"})]}),"\n",(0,o.jsxs)(e.p,{children:["Env\xeda una notificaci\xf3n general de ",(0,o.jsx)(e.strong,{children:"actualizaci\xf3n de la aplicaci\xf3n"})," a todos los usuarios."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"export const enviarNotificacionActualizacion = (data: {\r\n  titulo: string;\r\n  mensaje: string;\r\n}) => {\r\n  return axiosInstance.post('/notificaciones/actualizacion-app', data);\r\n};\n"})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsxs)(e.h4,{id:"-enviarnotificacionreposiciondata",children:["\ud83d\udd01 ",(0,o.jsx)(e.code,{children:"enviarNotificacionReposicion(data)"})]}),"\n",(0,o.jsxs)(e.p,{children:["Env\xeda una notificaci\xf3n personalizada de ",(0,o.jsx)(e.strong,{children:"reposici\xf3n de producto"})," a un usuario espec\xedfico."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'export const enviarNotificacionReposicion = (data: {\r\n  tipo: string;\r\n  titulo: string;\r\n  mensaje: string;\r\n  idUsuario: number;\r\n}) => {\r\n  return axiosInstance.post("/notificaciones", data);\r\n};\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"-ejemplo-de-uso",children:"\ud83d\ude80 Ejemplo de uso"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import { enviarNotificacionReposicion } from "../api/notificaciones";\r\n\r\nawait enviarNotificacionReposicion({\r\n  tipo: "reposicion",\r\n  titulo: "\xa1Reposicion recomendada!",\r\n  mensaje: "El producto \'Crema de Leche\' tiene solo 28 unidades disponibles.",\r\n  idUsuario: 42,\r\n});\n'})}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"-notas-adicionales",children:"\ud83d\udcdd Notas adicionales"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Este archivo centraliza todas las operaciones relacionadas con las notificaciones del sistema."}),"\n",(0,o.jsxs)(e.li,{children:["Se divide en tres bloques principales: ",(0,o.jsx)(e.strong,{children:"obtenci\xf3n de datos"}),", ",(0,o.jsx)(e.strong,{children:"actualizaci\xf3n de preferencias/estado"}),", y ",(0,o.jsx)(e.strong,{children:"env\xedo de notificaciones"}),"."]}),"\n",(0,o.jsxs)(e.li,{children:["Al utilizar ",(0,o.jsx)(e.code,{children:"axiosInstance"}),", se garantiza la uniformidad en las configuraciones de red."]}),"\n"]})]})}function u(i={}){const{wrapper:e}={...(0,s.R)(),...i.components};return e?(0,o.jsx)(e,{...i,children:(0,o.jsx)(l,{...i})}):l(i)}},8453:(i,e,n)=>{n.d(e,{R:()=>c,x:()=>r});var a=n(6540);const o={},s=a.createContext(o);function c(i){const e=a.useContext(s);return a.useMemo(function(){return"function"==typeof i?i(e):{...e,...i}},[e,i])}function r(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(o):i.components||o:c(i.components),a.createElement(s.Provider,{value:e},i.children)}}}]);