"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8907],{8453:(e,i,n)=>{n.d(i,{R:()=>c,x:()=>o});var s=n(6540);const r={},a=s.createContext(r);function c(e){const i=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(a.Provider,{value:i},e.children)}},9966:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"frontend/pages/equipo/usuario-auditoria","title":"Auditor\xeda de Usuarios","description":"Este componente permite a un administrador visualizar, filtrar, inactivar y reactivar usuarios dentro del sistema. Proporciona una tabla detallada con informaci\xf3n clave, junto con modales de confirmaci\xf3n para acciones sensibles como la eliminaci\xf3n l\xf3gica o la reactivaci\xf3n de cuentas.","source":"@site/docs/frontend/pages/equipo/UsuarioAuditoria.md","sourceDirName":"frontend/pages/equipo","slug":"/frontend/pages/equipo/usuario-auditoria","permalink":"/producttrack/docs/frontend/pages/equipo/usuario-auditoria","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/pages/equipo/UsuarioAuditoria.md","tags":[],"version":"current","frontMatter":{"id":"usuario-auditoria","title":"Auditor\xeda de Usuarios","sidebar_label":"UsuarioAuditoria"},"sidebar":"tutorialSidebar","previous":{"title":"TeamManagement","permalink":"/producttrack/docs/frontend/pages/equipo/team-management"},"next":{"title":"Historial","permalink":"/producttrack/docs/frontend/pages/individual/historial-inventario-individual"}}');var r=n(4848),a=n(8453);const c={id:"usuario-auditoria",title:"Auditor\xeda de Usuarios",sidebar_label:"UsuarioAuditoria"},o=void 0,l={},d=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udce6 Dependencias",id:"-dependencias",level:2},{value:"\ud83e\udde9 Props",id:"-props",level:2},{value:"\ud83e\uddf1 Estructuras de datos",id:"-estructuras-de-datos",level:2},{value:"\u2699\ufe0f L\xf3gica interna",id:"\ufe0f-l\xf3gica-interna",level:2},{value:"\ud83d\udccc Estado local:",id:"-estado-local",level:3},{value:"\ud83d\udd01 Efectos:",id:"-efectos",level:3},{value:"\ud83d\udce4 Funciones principales:",id:"-funciones-principales",level:3},{value:"\ud83d\udd10 Reglas de acceso",id:"-reglas-de-acceso",level:2},{value:"\ud83d\udda5\ufe0f Interfaz de usuario",id:"\ufe0f-interfaz-de-usuario",level:2},{value:"\ud83d\udd0e Filtros",id:"-filtros",level:3},{value:"\ud83d\udccb Tabla",id:"-tabla",level:3},{value:"\ud83d\udcac Modales de confirmaci\xf3n",id:"-modales-de-confirmaci\xf3n",level:3},{value:"\ud83e\uddea Ruta protegida",id:"-ruta-protegida",level:2},{value:"\ud83d\udca1 Consideraciones adicionales",id:"-consideraciones-adicionales",level:2}];function t(e){const i={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.p,{children:"Este componente permite a un administrador visualizar, filtrar, inactivar y reactivar usuarios dentro del sistema. Proporciona una tabla detallada con informaci\xf3n clave, junto con modales de confirmaci\xf3n para acciones sensibles como la eliminaci\xf3n l\xf3gica o la reactivaci\xf3n de cuentas."}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"src/pages/equipo/UsuarioAuditoria.tsx"})}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-dependencias",children:"\ud83d\udce6 Dependencias"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Hooks:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useEffect"}),", ",(0,r.jsx)(i.code,{children:"useState"})," de React"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useUser"})," \u2013 para obtener al usuario autenticado"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useToast"})," \u2013 para mostrar notificaciones emergentes"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Librer\xedas:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"axios"})," \u2013 para realizar peticiones HTTP"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"lucide-react"})," \u2013 \xedconos (",(0,r.jsx)(i.code,{children:"Trash"}),", ",(0,r.jsx)(i.code,{children:"Pencil"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Constantes:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"url"})," \u2013 base del endpoint de API"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-props",children:"\ud83e\udde9 Props"}),"\n",(0,r.jsxs)(i.p,{children:["Este componente ",(0,r.jsx)(i.strong,{children:"no recibe props"}),". Depende del contexto del usuario autenticado (",(0,r.jsx)(i.code,{children:"useUser"}),") para determinar permisos."]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-estructuras-de-datos",children:"\ud83e\uddf1 Estructuras de datos"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-ts",children:'interface Usuario {\r\n  idUsuario: number;\r\n  username: string;\r\n  nombreCompleto: string;\r\n  correo: string;\r\n  rol: "USUARIO" | "EQUIPO" | "ADMIN" | "DESARROLLADOR";\r\n  tipoUsuario?: "INDIVIDUAL" | "EMPRESARIAL";\r\n  estado: "activo" | "inactivo";\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  deletedAt?: string | null;\r\n}\n'})}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-l\xf3gica-interna",children:"\u2699\ufe0f L\xf3gica interna"}),"\n",(0,r.jsx)(i.h3,{id:"-estado-local",children:"\ud83d\udccc Estado local:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"usuarios"}),": lista de todos los usuarios cargados."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"confirmEliminarId"}),": ID del usuario seleccionado para inactivaci\xf3n."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"confirmReactivarId"}),": ID del usuario seleccionado para reactivaci\xf3n."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"filtroNombre"}),", ",(0,r.jsx)(i.code,{children:"filtroCorreo"}),", ",(0,r.jsx)(i.code,{children:"filtroTipo"}),", ",(0,r.jsx)(i.code,{children:"filtroRol"}),", ",(0,r.jsx)(i.code,{children:"filtroEstado"}),": inputs de filtrado."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-efectos",children:"\ud83d\udd01 Efectos:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useEffect"}),": al montar el componente, se carga la lista completa de usuarios desde el backend."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-funciones-principales",children:"\ud83d\udce4 Funciones principales:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"filtrarUsuarios"}),": aplica filtros (nombre, correo, tipo, rol, estado) a la consulta de usuarios."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"cargarUsuarios"}),": obtiene la lista completa de usuarios sin filtros."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"eliminarUsuario"}),": inactiva un usuario, salvo que sea el mismo usuario autenticado."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"reactivarUsuario"}),": revierte la inactivaci\xf3n de un usuario dado."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-reglas-de-acceso",children:"\ud83d\udd10 Reglas de acceso"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Solo visible para usuarios con rol"}),": ",(0,r.jsx)(i.code,{children:"ADMIN"}),"."]}),"\n",(0,r.jsx)(i.li,{children:"Si el usuario autenticado no cumple, se muestra:"}),"\n"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-txt",children:"Sin permisos para ver esta auditor\xeda.\n"})}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-interfaz-de-usuario",children:"\ud83d\udda5\ufe0f Interfaz de usuario"}),"\n",(0,r.jsx)(i.h3,{id:"-filtros",children:"\ud83d\udd0e Filtros"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Inputs para nombre, correo."}),"\n",(0,r.jsx)(i.li,{children:"Selects para tipo de usuario, rol, y estado."}),"\n",(0,r.jsx)(i.li,{children:'Botones para "Filtrar" y "Limpiar".'}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"-tabla",children:"\ud83d\udccb Tabla"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Muestra:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"ID, nombre de usuario, correo, rol, tipo, estado, fechas de creaci\xf3n/modificaci\xf3n/eliminaci\xf3n."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Columnas ordenadas horizontalmente con scroll si es necesario."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"\xcdconos:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Trash"}),": Inactivar"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Pencil"}),": Reactivar"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"-modales-de-confirmaci\xf3n",children:"\ud83d\udcac Modales de confirmaci\xf3n"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Inactivaci\xf3n"})," (",(0,r.jsx)(i.code,{children:"confirmEliminarId"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Previene auto-inactivaci\xf3n."}),"\n",(0,r.jsx)(i.li,{children:"Confirmaci\xf3n clara con opciones Cancelar/Inactivar."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Reactivaci\xf3n"})," (",(0,r.jsx)(i.code,{children:"confirmReactivarId"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Pregunta si se desea reactivar y ejecuta la acci\xf3n al confirmar."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-ruta-protegida",children:"\ud83e\uddea Ruta protegida"}),"\n",(0,r.jsx)(i.p,{children:"Este componente corresponde a la ruta:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"/equipo/UsuarioAuditoria\n"})}),"\n",(0,r.jsxs)(i.p,{children:["Es utilizado por los administradores del sistema para ",(0,r.jsx)(i.strong,{children:"auditar usuarios activos e inactivos"}),", ",(0,r.jsx)(i.strong,{children:"modificar su estado"}),", y aplicar ",(0,r.jsx)(i.strong,{children:"filtros de b\xfasqueda avanzada"}),"."]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-consideraciones-adicionales",children:"\ud83d\udca1 Consideraciones adicionales"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Los usuarios ",(0,r.jsx)(i.code,{children:"ADMIN"})," y ",(0,r.jsx)(i.code,{children:"DESARROLLADOR"})," no pueden ser inactivados desde la interfaz."]}),"\n",(0,r.jsx)(i.li,{children:"Un usuario no puede eliminarse a s\xed mismo."}),"\n",(0,r.jsx)(i.li,{children:'El bot\xf3n "Reactivar" est\xe1 siempre visible como opci\xf3n r\xe1pida para usuarios inactivos.'}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}}}]);