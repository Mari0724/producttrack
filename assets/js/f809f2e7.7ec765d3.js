"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5384],{8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(6540);const t={},a=s.createContext(t);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(a.Provider,{value:n},e.children)}},8800:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"frontend/utils/axios-instance","title":"Axios Instance","description":"Este archivo define una instancia personalizada de Axios para gestionar las peticiones HTTP hacia la API de ProductTrack.","source":"@site/docs/frontend/utils/axiosInstance.md","sourceDirName":"frontend/utils","slug":"/frontend/utils/axios-instance","permalink":"/producttrack/docs/frontend/utils/axios-instance","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/utils/axiosInstance.md","tags":[],"version":"current","frontMatter":{"id":"axios-instance","title":"Axios Instance","sidebar_label":"Axios"},"sidebar":"tutorialSidebar","previous":{"title":"adImages","permalink":"/producttrack/docs/frontend/utils/ad-images"},"next":{"title":"Enviar Notificaciones","permalink":"/producttrack/docs/frontend/utils/enviar-notificaciones"}}');var t=i(4848),a=i(8453);const r={id:"axios-instance",title:"Axios Instance",sidebar_label:"Axios"},c=void 0,l={},o=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udccc Prop\xf3sito",id:"-prop\xf3sito",level:2},{value:"\ud83e\udde9 Importaciones clave",id:"-importaciones-clave",level:2},{value:"\ud83e\uddf0 Elementos principales",id:"-elementos-principales",level:2},{value:"\ud83d\udd39 Creaci\xf3n de la instancia",id:"-creaci\xf3n-de-la-instancia",level:3},{value:"\ud83d\udd39 Interceptor de solicitudes",id:"-interceptor-de-solicitudes",level:3},{value:"\ud83e\udde0 Detalles t\xe9cnicos",id:"-detalles-t\xe9cnicos",level:2},{value:"\ud83d\udca1 Ejemplo de uso",id:"-ejemplo-de-uso",level:2},{value:"\u2705 Resumen",id:"-resumen",level:2}];function d(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Este archivo define una instancia personalizada de ",(0,t.jsx)(n.strong,{children:"Axios"})," para gestionar las peticiones HTTP hacia la API de ProductTrack.",(0,t.jsx)(n.br,{}),"\n","Centraliza la configuraci\xf3n de cabeceras, URL base e interceptores para el manejo autom\xe1tico de autenticaci\xf3n."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"src/utils/axiosInstance.ts"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-prop\xf3sito",children:"\ud83d\udccc Prop\xf3sito"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Establecer una ",(0,t.jsx)(n.strong,{children:"URL base"})," para todas las solicitudes."]}),"\n",(0,t.jsxs)(n.li,{children:["Definir ",(0,t.jsx)(n.strong,{children:"cabeceras comunes"})," como ",(0,t.jsx)(n.code,{children:"Content-Type"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["A\xf1adir autom\xe1ticamente el ",(0,t.jsx)(n.strong,{children:"token JWT"})," a las peticiones cuando est\xe9 disponible en ",(0,t.jsx)(n.code,{children:"localStorage"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Evitar duplicaci\xf3n de configuraci\xf3n en cada solicitud HTTP."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-importaciones-clave",children:"\ud83e\udde9 Importaciones clave"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"M\xf3dulo"}),(0,t.jsx)(n.th,{children:"Prop\xf3sito"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"axios"})}),(0,t.jsx)(n.td,{children:"Cliente HTTP para realizar solicitudes a la API."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"url"})}),(0,t.jsx)(n.td,{children:"Constante con la URL base de la API."})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-elementos-principales",children:"\ud83e\uddf0 Elementos principales"}),"\n",(0,t.jsx)(n.h3,{id:"-creaci\xf3n-de-la-instancia",children:"\ud83d\udd39 Creaci\xf3n de la instancia"}),"\n",(0,t.jsxs)(n.p,{children:["Se utiliza ",(0,t.jsx)(n.code,{children:"axios.create()"})," para definir:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"baseURL"}),": la URL ra\xedz de la API, importada desde ",(0,t.jsx)(n.code,{children:"../constants"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headers"}),": configuraci\xf3n por defecto para enviar datos en formato JSON."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"-interceptor-de-solicitudes",children:"\ud83d\udd39 Interceptor de solicitudes"}),"\n",(0,t.jsx)(n.p,{children:"Antes de enviar cada petici\xf3n:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Obtiene el token de autenticaci\xf3n almacenado en ",(0,t.jsx)(n.code,{children:"localStorage"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Si el token existe, a\xf1ade el encabezado ",(0,t.jsx)(n.code,{children:"Authorization"})," con formato ",(0,t.jsx)(n.code,{children:"Bearer <token>"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Este proceso se realiza de forma autom\xe1tica, sin intervenci\xf3n manual en cada llamada."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-detalles-t\xe9cnicos",children:"\ud83e\udde0 Detalles t\xe9cnicos"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Funciona tanto en entornos de ",(0,t.jsx)(n.strong,{children:"desarrollo"})," como de ",(0,t.jsx)(n.strong,{children:"producci\xf3n"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Permite que cualquier m\xf3dulo que lo importe haga peticiones autenticadas sin repetir l\xf3gica."}),"\n",(0,t.jsx)(n.li,{children:"El token solo se agrega si est\xe1 presente en el almacenamiento local."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-ejemplo-de-uso",children:"\ud83d\udca1 Ejemplo de uso"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import axiosInstance from '@/utils/axiosInstance';\r\n\r\nasync function getProductos() {\r\n  const { data } = await axiosInstance.get('/productos');\r\n  return data;\r\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"En este ejemplo:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No es necesario incluir la URL completa de la API."}),"\n",(0,t.jsxs)(n.li,{children:["El encabezado ",(0,t.jsx)(n.code,{children:"Authorization"})," se agrega autom\xe1ticamente si hay un token v\xe1lido."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-resumen",children:"\u2705 Resumen"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Elemento"}),(0,t.jsx)(n.th,{children:"Prop\xf3sito"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Instancia Axios"})}),(0,t.jsx)(n.td,{children:"Define configuraci\xf3n com\xfan para todas las solicitudes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Interceptor"})}),(0,t.jsx)(n.td,{children:"Agrega token JWT autom\xe1ticamente"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"URL base centralizada"})}),(0,t.jsx)(n.td,{children:"Facilita el mantenimiento y evita errores repetidos"})]})]})]}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);