"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7383],{5325:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>i,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"backend/utils/zodValidate","title":"Validacion zod","description":"\ud83d\udcc4 zodValidate.ts","source":"@site/docs/backend/utils/zodValidate.md","sourceDirName":"backend/utils","slug":"/backend/utils/zodValidate","permalink":"/producttrack/docs/backend/utils/zodValidate","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/utils/zodValidate.md","tags":[],"version":"current","frontMatter":{"id":"zodValidate","title":"Validacion zod","sidebar_label":"Zod Validate"},"sidebar":"tutorialSidebar","previous":{"title":"Texto","permalink":"/producttrack/docs/backend/utils/Texto"},"next":{"title":"\ud83d\udce6 Frontend","permalink":"/producttrack/docs/frontend/"}}');var r=n(4848),a=n(8453);const o={id:"zodValidate",title:"Validacion zod",sidebar_label:"Zod Validate"},t=void 0,i={},l=[{value:"\ud83d\udcc4 <code>zodValidate.ts</code>",id:"-zodvalidatets",level:3},{value:"\ud83d\udd27 Funci\xf3n: <code>zodValidate</code>",id:"-funci\xf3n-zodvalidate",level:2},{value:"\u2705 Prop\xf3sito:",id:"-prop\xf3sito",level:3},{value:"\ud83d\udce5 Par\xe1metros:",id:"-par\xe1metros",level:3},{value:"\ud83d\udce4 Retorno:",id:"-retorno",level:3},{value:"\ud83e\udde0 Ejemplo de uso:",id:"-ejemplo-de-uso",level:3},{value:"\ud83e\uddf0 Utiliza:",id:"-utiliza",level:2}];function c(e){const d={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.h3,{id:"-zodvalidatets",children:["\ud83d\udcc4 ",(0,r.jsx)(d.code,{children:"zodValidate.ts"})]}),"\n",(0,r.jsxs)(d.p,{children:["Esta utilidad proporciona una funci\xf3n gen\xe9rica para validar datos con ",(0,r.jsx)(d.a,{href:"https://zod.dev/",children:"Zod"}),", simplificando el manejo de errores en controladores y servicios."]}),"\n",(0,r.jsx)(d.hr,{}),"\n",(0,r.jsxs)(d.h2,{id:"-funci\xf3n-zodvalidate",children:["\ud83d\udd27 Funci\xf3n: ",(0,r.jsx)(d.code,{children:"zodValidate"})]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-ts",children:"export const zodValidate = <T>(\r\n  schema: ZodSchema<T>,\r\n  data: unknown\r\n): { success: true; data: T } | { success: false; error: string }\n"})}),"\n",(0,r.jsx)(d.h3,{id:"-prop\xf3sito",children:"\u2705 Prop\xf3sito:"}),"\n",(0,r.jsx)(d.p,{children:"Valida cualquier objeto de entrada contra un esquema de Zod y devuelve un resultado estandarizado que indica si la validaci\xf3n fue exitosa o no."}),"\n",(0,r.jsx)(d.hr,{}),"\n",(0,r.jsx)(d.h3,{id:"-par\xe1metros",children:"\ud83d\udce5 Par\xe1metros:"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"Nombre"}),(0,r.jsx)(d.th,{children:"Tipo"}),(0,r.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"schema"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ZodSchema<T>"})}),(0,r.jsx)(d.td,{children:"Esquema de Zod que define la forma y reglas de validaci\xf3n."})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"data"})}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"unknown"})}),(0,r.jsx)(d.td,{children:"Objeto de datos que se desea validar."})]})]})]}),"\n",(0,r.jsx)(d.hr,{}),"\n",(0,r.jsx)(d.h3,{id:"-retorno",children:"\ud83d\udce4 Retorno:"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["Si la validaci\xf3n es ",(0,r.jsx)(d.strong,{children:"exitosa"}),":"]}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-ts",children:"{ success: true, data: T }\n"})}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["Si la validaci\xf3n ",(0,r.jsx)(d.strong,{children:"falla"}),":"]}),"\n"]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-ts",children:"{ success: false, error: string } // mensaje con errores concatenados\n"})}),"\n",(0,r.jsxs)(d.p,{children:["El campo ",(0,r.jsx)(d.code,{children:"error"})," contiene un resumen legible de todos los errores de validaci\xf3n en una sola cadena, \xfatil para mostrar en respuestas HTTP."]}),"\n",(0,r.jsx)(d.hr,{}),"\n",(0,r.jsx)(d.h3,{id:"-ejemplo-de-uso",children:"\ud83e\udde0 Ejemplo de uso:"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-ts",children:'const result = zodValidate(userSchema, req.body);\r\n\r\nif (!result.success) {\r\n  res.status(400).json({ message: "Datos inv\xe1lidos", detalles: result.error });\r\n} else {\r\n  const usuarioValido = result.data;\r\n  // continuar con l\xf3gica de negocio\r\n}\n'})}),"\n",(0,r.jsx)(d.hr,{}),"\n",(0,r.jsx)(d.h2,{id:"-utiliza",children:"\ud83e\uddf0 Utiliza:"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.code,{children:"Zod.safeParse"}),": m\xe9todo seguro que evita excepciones y devuelve un objeto de \xe9xito o error."]}),"\n",(0,r.jsxs)(d.li,{children:["Mapeo de errores personalizados usando ",(0,r.jsx)(d.code,{children:"result.error.errors"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:d}={...(0,a.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,d,n)=>{n.d(d,{R:()=>o,x:()=>t});var s=n(6540);const r={},a=s.createContext(r);function o(e){const d=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function t(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:d},e.children)}}}]);