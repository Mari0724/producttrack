"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4045],{2239:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"backend/utils/Texto","title":"Utilidades de Texto OCR","description":"Este m\xf3dulo contiene funciones auxiliares para el procesamiento, limpieza y an\xe1lisis del texto extra\xeddo por OCR (Reconocimiento \xd3ptico de Caracteres) en el sistema NutriScan. Estas funciones ayudan a mejorar la precisi\xf3n de las b\xfasquedas y a reducir errores comunes del reconocimiento.","source":"@site/docs/backend/utils/texto.md","sourceDirName":"backend/utils","slug":"/backend/utils/Texto","permalink":"/producttrack/docs/backend/utils/Texto","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/utils/texto.md","tags":[],"version":"current","frontMatter":{"id":"Texto","title":"Utilidades de Texto OCR","sidebar_label":"Texto"},"sidebar":"tutorialSidebar","previous":{"title":"Prisma Cient","permalink":"/producttrack/docs/backend/utils/prismaClient"},"next":{"title":"Zod Validate","permalink":"/producttrack/docs/backend/utils/zodValidate"}}');var r=s(4848),o=s(8453);const t={id:"Texto",title:"Utilidades de Texto OCR",sidebar_label:"Texto"},a=void 0,l={},c=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\u2728 Funciones Exportadas",id:"-funciones-exportadas",level:2},{value:"\ud83d\udd39 <code>limpiarTextoOCR(texto: string): string</code>",id:"-limpiartextoocrtexto-string-string",level:3},{value:"\u2705 Acciones realizadas:",id:"-acciones-realizadas",level:4},{value:"\ud83e\uddea Ejemplo",id:"-ejemplo",level:4},{value:"\ud83d\udd39 <code>corregirErroresOCR(texto: string): string</code>",id:"-corregirerroresocrtexto-string-string",level:3},{value:"\ud83d\udd01 Correcciones incluidas:",id:"-correcciones-incluidas",level:4},{value:"\ud83d\udd39 <code>obtenerCandidatosProductos(texto: string): string[]</code>",id:"-obtenercandidatosproductostexto-string-string",level:3},{value:"\ud83d\udccb Lista de alimentos comunes por defecto:",id:"-lista-de-alimentos-comunes-por-defecto",level:4},{value:"\u2705 Devuelve:",id:"-devuelve",level:4},{value:"\ud83d\udd39 <code>elegirMejorResultado(resultados: any[], textoOCR: string): any | null</code>",id:"-elegirmejorresultadoresultados-any-textoocr-string-any--null",level:3},{value:"\ud83e\udde0 L\xf3gica aplicada:",id:"-l\xf3gica-aplicada",level:4},{value:"\ud83c\udfaf Usos T\xedpicos",id:"-usos-t\xedpicos",level:2},{value:"\ud83d\udd0d Ejemplo de Flujo Com\xfan",id:"-ejemplo-de-flujo-com\xfan",level:2}];function d(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Este m\xf3dulo contiene funciones auxiliares para el procesamiento, limpieza y an\xe1lisis del texto extra\xeddo por OCR (Reconocimiento \xd3ptico de Caracteres) en el sistema NutriScan. Estas funciones ayudan a mejorar la precisi\xf3n de las b\xfasquedas y a reducir errores comunes del reconocimiento."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"src/utils/texto.ts"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-funciones-exportadas",children:"\u2728 Funciones Exportadas"}),"\n",(0,r.jsxs)(n.h3,{id:"-limpiartextoocrtexto-string-string",children:["\ud83d\udd39 ",(0,r.jsx)(n.code,{children:"limpiarTextoOCR(texto: string): string"})]}),"\n",(0,r.jsx)(n.p,{children:"Normaliza el texto extra\xeddo por OCR."}),"\n",(0,r.jsx)(n.h4,{id:"-acciones-realizadas",children:"\u2705 Acciones realizadas:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Convierte a min\xfasculas."}),"\n",(0,r.jsx)(n.li,{children:"Reemplaza saltos de l\xednea por espacios."}),"\n",(0,r.jsx)(n.li,{children:"Elimina caracteres no alfanum\xe9ricos (excepto espacios y guiones)."}),"\n",(0,r.jsx)(n.li,{children:"Colapsa espacios m\xfaltiples."}),"\n",(0,r.jsx)(n.li,{children:"Elimina espacios al inicio y final."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"-ejemplo",children:"\ud83e\uddea Ejemplo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'limpiarTextoOCR("LENTEJAS\\n- MARCA!!!")\r\n\u2192 "lentejas marca"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"-corregirerroresocrtexto-string-string",children:["\ud83d\udd39 ",(0,r.jsx)(n.code,{children:"corregirErroresOCR(texto: string): string"})]}),"\n",(0,r.jsx)(n.p,{children:"Corrige errores comunes causados por el OCR."}),"\n",(0,r.jsx)(n.h4,{id:"-correcciones-incluidas",children:"\ud83d\udd01 Correcciones incluidas:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"1entejas"})," \u2192 ",(0,r.jsx)(n.code,{children:"lentejas"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"garbansos"})," \u2192 ",(0,r.jsx)(n.code,{children:"garbanzos"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"aros"})," \u2192 ",(0,r.jsx)(n.code,{children:"arroz"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"(Puedes ampliar esta lista seg\xfan los errores m\xe1s comunes de tu base de datos OCR)"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"-obtenercandidatosproductostexto-string-string",children:["\ud83d\udd39 ",(0,r.jsx)(n.code,{children:"obtenerCandidatosProductos(texto: string): string[]"})]}),"\n",(0,r.jsx)(n.p,{children:"Busca coincidencias con una lista de alimentos comunes en espa\xf1ol."}),"\n",(0,r.jsx)(n.h4,{id:"-lista-de-alimentos-comunes-por-defecto",children:"\ud83d\udccb Lista de alimentos comunes por defecto:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"[\r\n  'lentejas', 'arroz', 'avena', 'garbanzos',\r\n  'frijoles', 'papa', 'fideos', 'espagueti',\r\n  'quinua', 'soya', 'trigo'\r\n]\n"})}),"\n",(0,r.jsx)(n.h4,{id:"-devuelve",children:"\u2705 Devuelve:"}),"\n",(0,r.jsx)(n.p,{children:"Un array con los alimentos que aparecen dentro del texto OCR."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"-elegirmejorresultadoresultados-any-textoocr-string-any--null",children:["\ud83d\udd39 ",(0,r.jsx)(n.code,{children:"elegirMejorResultado(resultados: any[], textoOCR: string): any | null"})]}),"\n",(0,r.jsx)(n.p,{children:"Elige el resultado m\xe1s relevante de una lista consultada (por ejemplo, desde OpenFoodFacts), bas\xe1ndose en coincidencias con el texto OCR limpio."}),"\n",(0,r.jsx)(n.h4,{id:"-l\xf3gica-aplicada",children:"\ud83e\udde0 L\xf3gica aplicada:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Filtra productos irrelevantes"})," si el OCR no menciona ciertas palabras clave."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Busca coincidencias exactas"})," en el nombre del producto."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Si no hay coincidencias exactas:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Retorna el primer resultado relevante."}),"\n",(0,r.jsx)(n.li,{children:"Si no hay relevantes, retorna el primer resultado general."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-usos-t\xedpicos",children:"\ud83c\udfaf Usos T\xedpicos"}),"\n",(0,r.jsx)(n.p,{children:"Estas utilidades son usadas como parte del flujo de NutriScan:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Despu\xe9s del reconocimiento OCR (",(0,r.jsx)(n.code,{children:"extraerTextoDesdeImagen"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Antes de hacer consultas a OpenFoodFacts."}),"\n",(0,r.jsx)(n.li,{children:"Para mejorar las coincidencias entre texto OCR y productos reales."}),"\n",(0,r.jsx)(n.li,{children:"Para hacer an\xe1lisis m\xe1s preciso con GPT."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-ejemplo-de-flujo-com\xfan",children:"\ud83d\udd0d Ejemplo de Flujo Com\xfan"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const textoLimpio = limpiarTextoOCR(textoOCR);\r\nconst textoCorregido = corregirErroresOCR(textoLimpio);\r\nconst candidatos = obtenerCandidatosProductos(textoCorregido);\n"})}),"\n",(0,r.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);