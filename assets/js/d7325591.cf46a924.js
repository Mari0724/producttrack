"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9299],{7891:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"backend/types/authenticatedRequest","title":"Authenticated Request","description":"Este tipo extiende la interfaz Request de Express para incluir informaci\xf3n del usuario autenticado en las peticiones HTTP.","source":"@site/docs/backend/types/autheticatedRequest.md","sourceDirName":"backend/types","slug":"/backend/types/authenticatedRequest","permalink":"/producttrack/docs/backend/types/authenticatedRequest","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/types/autheticatedRequest.md","tags":[],"version":"current","frontMatter":{"id":"authenticatedRequest","title":"Authenticated Request","sidebar_label":"Authenticated Request"},"sidebar":"tutorialSidebar","previous":{"title":"Sincronizar Recordatorios","permalink":"/producttrack/docs/backend/sincronizarRecordatorios"},"next":{"title":"Historial Inventario","permalink":"/producttrack/docs/backend/types/historialInventario"}}');var r=s(4848),t=s(8453);const c={id:"authenticatedRequest",title:"Authenticated Request",sidebar_label:"Authenticated Request"},a=void 0,d={},o=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udccc Descripci\xf3n general",id:"-descripci\xf3n-general",level:2},{value:"\ud83d\udd17 Uso",id:"-uso",level:2},{value:"\ud83e\udde9 Relaci\xf3n con otros m\xf3dulos",id:"-relaci\xf3n-con-otros-m\xf3dulos",level:2},{value:"\u26a0\ufe0f Consideraciones",id:"\ufe0f-consideraciones",level:2}];function l(e){const n={br:"br",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Este tipo extiende la interfaz ",(0,r.jsx)(n.code,{children:"Request"})," de ",(0,r.jsx)(n.strong,{children:"Express"})," para incluir informaci\xf3n del usuario autenticado en las peticiones HTTP.",(0,r.jsx)(n.br,{}),"\n","Es \xfatil en controladores y middleware para acceder de forma tipada a los datos del usuario que ha iniciado sesi\xf3n."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"src/types/authenticatedRequest.ts"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-descripci\xf3n-general",children:"\ud83d\udccc Descripci\xf3n general"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Extensi\xf3n de ",(0,r.jsx)(n.code,{children:"Request"})]}),(0,r.jsx)(n.br,{}),"\n","Se crea una nueva interfaz ",(0,r.jsx)(n.code,{children:"AuthenticatedRequest"})," que hereda de la interfaz est\xe1ndar ",(0,r.jsx)(n.code,{children:"Request"})," de Express."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Propiedad ",(0,r.jsx)(n.code,{children:"user"})," opcional"]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Es un objeto que representa al usuario autenticado."}),"\n",(0,r.jsxs)(n.li,{children:["Incluye:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"idUsuario"})," \u2192 Identificador num\xe9rico del usuario en la base de datos."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"rol"})," \u2192 Rol del usuario (por ejemplo: ",(0,r.jsx)(n.code,{children:"ADMIN"}),", ",(0,r.jsx)(n.code,{children:"EQUIPO"}),", ",(0,r.jsx)(n.code,{children:"INDIVIDUAL"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[key: string]: any"})," \u2192 Permite incluir propiedades adicionales sin necesidad de modificar la interfaz."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Uso t\xedpico"}),(0,r.jsx)(n.br,{}),"\n","Este tipo se emplea en controladores y middleware donde, despu\xe9s de la autenticaci\xf3n, se agrega un objeto ",(0,r.jsx)(n.code,{children:"user"})," a la petici\xf3n para que pueda ser consultado en el resto del flujo."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-uso",children:"\ud83d\udd17 Uso"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ejemplo en un middleware de autenticaci\xf3n:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { AuthenticatedRequest } from '../types/authenticatedRequest';\r\n\r\nfunction ejemploMiddleware(req: AuthenticatedRequest, res, next) {\r\n  if (!req.user) {\r\n    return res.status(401).json({ error: 'No autenticado' });\r\n  }\r\n\r\n  console.log(`Usuario autenticado: ${req.user.idUsuario}`);\r\n  next();\r\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-relaci\xf3n-con-otros-m\xf3dulos",children:"\ud83e\udde9 Relaci\xf3n con otros m\xf3dulos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Se usa junto con middleware de autenticaci\xf3n que a\xf1ade ",(0,r.jsx)(n.code,{children:"req.user"})," tras validar un token o sesi\xf3n."]}),"\n",(0,r.jsx)(n.li,{children:"Aparece frecuentemente en controladores para acceder a la informaci\xf3n del usuario logueado."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-consideraciones",children:"\u26a0\ufe0f Consideraciones"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["La propiedad ",(0,r.jsx)(n.code,{children:"user"})," es ",(0,r.jsx)(n.strong,{children:"opcional"}),", por lo que siempre debe verificarse antes de acceder a sus campos."]}),"\n",(0,r.jsxs)(n.li,{children:["Las propiedades adicionales permitidas mediante ",(0,r.jsx)(n.code,{children:"[key: string]: any"})," facilitan la extensibilidad, pero deben usarse con cuidado para evitar inconsistencias."]}),"\n",(0,r.jsxs)(n.li,{children:["Es buena pr\xe1ctica definir el tipo de ",(0,r.jsx)(n.code,{children:"rol"})," con un ",(0,r.jsx)(n.em,{children:"union type"})," o un ",(0,r.jsx)(n.em,{children:"enum"})," para restringir los valores v\xe1lidos."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);