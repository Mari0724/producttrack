"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3758],{8453:(e,d,n)=>{n.d(d,{R:()=>c,x:()=>o});var r=n(6540);const i={},s=r.createContext(i);function c(e){const d=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function o(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(s.Provider,{value:d},e.children)}},8458:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"backend/models/productos-model","title":"Validaci\xf3n ProductosModel","description":"Este archivo define el esquema de validaci\xf3n para los productos utilizando Zod, una biblioteca de validaci\xf3n de datos en tiempo de ejecuci\xf3n para TypeScript. Se asegura de que los datos enviados al sistema cumplan con el formato y las reglas requeridas antes de ser procesados.","source":"@site/docs/backend/models/ProductosModel.md","sourceDirName":"backend/models","slug":"/backend/models/productos-model","permalink":"/producttrack/docs/backend/models/productos-model","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/models/ProductosModel.md","tags":[],"version":"current","frontMatter":{"id":"productos-model","title":"Validaci\xf3n ProductosModel","sidebar_label":"Productos Model"},"sidebar":"tutorialSidebar","previous":{"title":"Productos DTO","permalink":"/producttrack/docs/backend/models/productosdto"},"next":{"title":"User DTO","permalink":"/producttrack/docs/backend/models/UserDTO"}}');var i=n(4848),s=n(8453);const c={id:"productos-model",title:"Validaci\xf3n ProductosModel",sidebar_label:"Productos Model"},o=void 0,l={},t=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83e\udde9 Dependencias",id:"-dependencias",level:2},{value:"\ud83e\uddea Enumeraciones",id:"-enumeraciones",level:2},{value:"\u2705 Esquema de validaci\xf3n",id:"-esquema-de-validaci\xf3n",level:2},{value:"\ud83e\uddfe Descripci\xf3n de campos",id:"-descripci\xf3n-de-campos",level:3},{value:"\ud83d\udce4 Tipo inferido",id:"-tipo-inferido",level:2}];function a(e){const d={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.p,{children:["Este archivo define el esquema de validaci\xf3n para los productos utilizando ",(0,i.jsx)(d.code,{children:"Zod"}),", una biblioteca de validaci\xf3n de datos en tiempo de ejecuci\xf3n para TypeScript. Se asegura de que los datos enviados al sistema cumplan con el formato y las reglas requeridas antes de ser procesados."]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.code,{children:"src/model/ProductosModel.ts"})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"-dependencias",children:"\ud83e\udde9 Dependencias"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-ts",children:'import { z } from "zod";\n'})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"-enumeraciones",children:"\ud83e\uddea Enumeraciones"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-ts",children:'export const estadoEnum = z.enum([\r\n  "DISPONIBLE",\r\n  "AGOTADO",\r\n  "RESERVADO",\r\n  "VENCIDO",\r\n  "ELIMINADO"\r\n]);\n'})}),"\n",(0,i.jsx)(d.p,{children:"Esta enumeraci\xf3n valida que el estado del producto sea uno de los siguientes:"}),"\n",(0,i.jsxs)(d.ul,{children:["\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.code,{children:"DISPONIBLE"})}),"\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.code,{children:"AGOTADO"})}),"\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.code,{children:"RESERVADO"})}),"\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.code,{children:"VENCIDO"})}),"\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.code,{children:"ELIMINADO"})}),"\n"]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"-esquema-de-validaci\xf3n",children:"\u2705 Esquema de validaci\xf3n"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-ts",children:'export const productoSchema = z.object({\r\n  codigoBarras: z.string().optional().nullable(),\r\n  codigoQR: z.string().optional().nullable(),\r\n  nombre: z.string().min(1).trim(),\r\n  descripcion: z.string().min(1).trim(),\r\n  categoria: z.string().optional(),\r\n  cantidad: z.number().int().nonnegative(),\r\n  precio: z.preprocess((val) => Number(val), z.number().nonnegative({\r\n    message: "El precio debe ser un n\xfamero v\xe1lido",\r\n  })),\r\n  fechaAdquisicion: z.string().refine((val) => !isNaN(Date.parse(val)), {\r\n    message: "fechaAdquisicion debe ser una fecha v\xe1lida (ISO string)",\r\n  }),\r\n  fechaVencimiento: z.string().refine((val) => !isNaN(Date.parse(val)), {\r\n    message: "fechaVencimiento debe ser una fecha v\xe1lida (ISO string)",\r\n  }),\r\n  usuarioId: z.number().optional(),\r\n  estado: estadoEnum,\r\n  imagen: z.string().trim().url({ message: "imagen debe ser una URL v\xe1lida" }),\r\n});\n'})}),"\n",(0,i.jsx)(d.h3,{id:"-descripci\xf3n-de-campos",children:"\ud83e\uddfe Descripci\xf3n de campos"}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Campo"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Requerido"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"codigoBarras"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string | null"})}),(0,i.jsx)(d.td,{children:"Opcional"}),(0,i.jsx)(d.td,{children:"C\xf3digo de barras del producto"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"codigoQR"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string | null"})}),(0,i.jsx)(d.td,{children:"Opcional"}),(0,i.jsx)(d.td,{children:"C\xf3digo QR del producto"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"nombre"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"Nombre del producto (m\xednimo 1 caracter, sin espacios vac\xedos)"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"descripcion"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"Descripci\xf3n del producto"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"categoria"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"Opcional"}),(0,i.jsx)(d.td,{children:"Categor\xeda del producto"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"cantidad"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"number"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"Cantidad disponible, debe ser un n\xfamero entero no negativo"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"precio"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"number"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"Precio del producto, convertido previamente a n\xfamero"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"fechaAdquisicion"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"Fecha en formato ISO, debe ser una fecha v\xe1lida"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"fechaVencimiento"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"Fecha en formato ISO, debe ser una fecha v\xe1lida"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"usuarioId"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"number"})}),(0,i.jsx)(d.td,{children:"Opcional"}),(0,i.jsx)(d.td,{children:"ID del usuario propietario del producto"})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"estado"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"enum"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsxs)(d.td,{children:["Estado del producto seg\xfan ",(0,i.jsx)(d.code,{children:"estadoEnum"})]})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"imagen"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string (URL)"})}),(0,i.jsx)(d.td,{children:"S\xed"}),(0,i.jsx)(d.td,{children:"URL de la imagen del producto"})]})]})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"-tipo-inferido",children:"\ud83d\udce4 Tipo inferido"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-ts",children:"export type ProductoInput = z.infer<typeof productoSchema>;\n"})}),"\n",(0,i.jsxs)(d.p,{children:["Este tipo se usa para tipar los objetos validados autom\xe1ticamente con base en el esquema ",(0,i.jsx)(d.code,{children:"productoSchema"}),"."]}),"\n",(0,i.jsx)(d.hr,{})]})}function h(e={}){const{wrapper:d}={...(0,s.R)(),...e.components};return d?(0,i.jsx)(d,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);