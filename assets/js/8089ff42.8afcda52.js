"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8180],{396:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"frontend/pages/perfil/Profile","title":"Profile","description":"El componente Profile es la vista principal para la gesti\xf3n del perfil de usuario.","source":"@site/docs/frontend/pages/perfil/Profile.md","sourceDirName":"frontend/pages/perfil","slug":"/frontend/pages/perfil/Profile","permalink":"/producttrack/docs/frontend/pages/perfil/Profile","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/pages/perfil/Profile.md","tags":[],"version":"current","frontMatter":{"id":"Profile","title":"Profile","sidebar_label":"Profile"},"sidebar":"tutorialSidebar","previous":{"title":"Complete Profile","permalink":"/producttrack/docs/frontend/pages/perfil/complete-profile"},"next":{"title":"Index o Home","permalink":"/producttrack/docs/frontend/router/IndexHome"}}');var s=i(4848),l=i(8453);const d={id:"Profile",title:"Profile",sidebar_label:"Profile"},c=void 0,a={},o=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udee0\ufe0f Dependencias",id:"\ufe0f-dependencias",level:2},{value:"\ud83d\udcc2 Interfaces",id:"-interfaces",level:2},{value:"<code>UserProfile</code>",id:"userprofile",level:3},{value:"\ud83d\udd04 Ciclo de Vida",id:"-ciclo-de-vida",level:2},{value:"<strong>useEffect</strong> \u2192 Cargar perfil del usuario",id:"useeffect--cargar-perfil-del-usuario",level:3},{value:"\ud83d\udccc Funciones Principales",id:"-funciones-principales",level:2},{value:"<strong>handleSaveProfile</strong>",id:"handlesaveprofile",level:3},{value:"<strong>handlePasswordSubmit</strong>",id:"handlepasswordsubmit",level:3},{value:"\ud83d\udcca Variables Derivadas",id:"-variables-derivadas",level:2},{value:"\ud83d\uddbc\ufe0f Renderizado Condicional",id:"\ufe0f-renderizado-condicional",level:2},{value:"\ud83d\udccc Flujo General",id:"-flujo-general",level:2},{value:"\ud83d\ude80 Buenas Pr\xe1cticas en el C\xf3digo",id:"-buenas-pr\xe1cticas-en-el-c\xf3digo",level:2}];function t(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["El componente ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Profile"})})," es la vista principal para la gesti\xf3n del perfil de usuario.\r\nPermite visualizar y editar informaci\xf3n personal, cambiar la foto de perfil y actualizar la contrase\xf1a.\r\nTambi\xe9n adapta su interfaz dependiendo del tipo de usuario (",(0,s.jsx)(n.code,{children:"INDIVIDUAL"}),", ",(0,s.jsx)(n.code,{children:"EMPRESARIAL"}),", ",(0,s.jsx)(n.code,{children:"EQUIPO"}),") y su rol (",(0,s.jsx)(n.code,{children:"ADMIN"}),", ",(0,s.jsx)(n.code,{children:"DESARROLLADOR"}),", etc.)."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"src/pages/perfil/CompletaProfile.tsx"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-dependencias",children:"\ud83d\udee0\ufe0f Dependencias"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"React Hooks"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useState"})," y ",(0,s.jsx)(n.code,{children:"useEffect"})," para el manejo del estado y ciclo de vida."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Custom Hooks"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"useToast"})," para mostrar notificaciones de \xe9xito o error."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Iconos"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Edit"}),", ",(0,s.jsx)(n.code,{children:"Save"}),", ",(0,s.jsx)(n.code,{children:"User"}),", ",(0,s.jsx)(n.code,{children:"Building2"})," desde ",(0,s.jsx)(n.code,{children:"lucide-react"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Componentes"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PersonalInfo"})," \u2192 Muestra y edita la informaci\xf3n personal."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SecuritySettings"})," \u2192 Configuraci\xf3n de seguridad y cambio de contrase\xf1a."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Servicios"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"getUserProfile"}),", ",(0,s.jsx)(n.code,{children:"updateUserProfile"}),", ",(0,s.jsx)(n.code,{children:"uploadUserProfilePhoto"}),", ",(0,s.jsx)(n.code,{children:"getEmpresaInfo"})," \u2192 Gesti\xf3n de datos de usuario y empresa."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"changeUserPassword"})," \u2192 Cambio de contrase\xf1a."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Tipos"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AxiosErrorResponse"})," y ",(0,s.jsx)(n.code,{children:"UserDTO"})," para tipado TypeScript."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-interfaces",children:"\ud83d\udcc2 Interfaces"}),"\n",(0,s.jsx)(n.h3,{id:"userprofile",children:(0,s.jsx)(n.code,{children:"UserProfile"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface UserProfile {\r\n  type: 'INDIVIDUAL' | 'EMPRESARIAL' | 'EQUIPO';\r\n  username: string;\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  companyName?: string;\r\n  nit?: string;\r\n  role?: string;\r\n  fotoPerfil?: string;\r\n  empresaId?: number;\r\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Define la estructura de los datos que se manejan en el perfil."}),"\n",(0,s.jsx)(n.li,{children:"Permite identificar el tipo de usuario y su informaci\xf3n asociada."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-ciclo-de-vida",children:"\ud83d\udd04 Ciclo de Vida"}),"\n",(0,s.jsxs)(n.h3,{id:"useeffect--cargar-perfil-del-usuario",children:[(0,s.jsx)(n.strong,{children:"useEffect"})," \u2192 Cargar perfil del usuario"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Obtiene el ",(0,s.jsx)(n.code,{children:"idUsuario"})," desde ",(0,s.jsx)(n.code,{children:"localStorage"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Llama a ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"getUserProfile"})})," para traer la informaci\xf3n."]}),"\n",(0,s.jsxs)(n.li,{children:["Si el usuario es de tipo ",(0,s.jsx)(n.code,{children:"EQUIPO"})," y tiene ",(0,s.jsx)(n.code,{children:"empresaId"}),", llama a ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"getEmpresaInfo"})}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Guarda la informaci\xf3n en el estado ",(0,s.jsx)(n.code,{children:"userProfile"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-funciones-principales",children:"\ud83d\udccc Funciones Principales"}),"\n",(0,s.jsx)(n.h3,{id:"handlesaveprofile",children:(0,s.jsx)(n.strong,{children:"handleSaveProfile"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Guarda cambios en el perfil."}),"\n",(0,s.jsxs)(n.li,{children:["Si hay una nueva foto, llama a ",(0,s.jsx)(n.code,{children:"uploadUserProfilePhoto"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Actualiza la informaci\xf3n en el backend con ",(0,s.jsx)(n.code,{children:"updateUserProfile"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Refresca los datos llamando a ",(0,s.jsx)(n.code,{children:"getUserProfile"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Muestra notificaci\xf3n de \xe9xito o error."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"handlepasswordsubmit",children:(0,s.jsx)(n.strong,{children:"handlePasswordSubmit"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Valida que las contrase\xf1as coincidan."}),"\n",(0,s.jsxs)(n.li,{children:["Env\xeda la solicitud de cambio a ",(0,s.jsx)(n.code,{children:"changeUserPassword"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Resetea los campos y cierra el modal si es exitoso."}),"\n",(0,s.jsx)(n.li,{children:"Muestra mensajes de error detallados si ocurre un fallo."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-variables-derivadas",children:"\ud83d\udcca Variables Derivadas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isAdmin"})," \u2192 Usuario con rol ",(0,s.jsx)(n.code,{children:"ADMIN"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isDev"})," \u2192 Usuario con rol ",(0,s.jsx)(n.code,{children:"DESARROLLADOR"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isIndividual"})," \u2192 Usuarios individuales, admin o dev."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isEmpresa"})," \u2192 Usuarios empresariales."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isEquipo"})," \u2192 Usuarios de equipo."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-renderizado-condicional",children:"\ud83d\uddbc\ufe0f Renderizado Condicional"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cabecera"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Muestra icono de usuario o empresa seg\xfan tipo."}),"\n",(0,s.jsxs)(n.li,{children:["Bot\xf3n para ",(0,s.jsx)(n.strong,{children:"Editar Perfil"})," o ",(0,s.jsx)(n.strong,{children:"Guardar Cambios"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tabs"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Informaci\xf3n Personal"})," \u2192 Muestra componente ",(0,s.jsx)(n.code,{children:"PersonalInfo"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Seguridad"})," \u2192 Muestra componente ",(0,s.jsx)(n.code,{children:"SecuritySettings"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-flujo-general",children:"\ud83d\udccc Flujo General"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Carga inicial"})," \u2192 Trae datos desde API."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Edici\xf3n"})," \u2192 Cambia a modo edici\xf3n y permite modificar datos."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Guardado"})," \u2192 Llama servicios y refresca datos."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Seguridad"})," \u2192 Permite cambiar contrase\xf1a de forma segura."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-buenas-pr\xe1cticas-en-el-c\xf3digo",children:"\ud83d\ude80 Buenas Pr\xe1cticas en el C\xf3digo"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Validaciones antes de llamadas a API."}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 Uso de ",(0,s.jsx)(n.code,{children:"toast"})," para feedback r\xe1pido."]}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Separaci\xf3n clara entre datos personales y seguridad."}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Tipado estricto con TypeScript."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var r=i(6540);const s={},l=r.createContext(s);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);