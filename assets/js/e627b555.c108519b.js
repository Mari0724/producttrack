"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5242],{583:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"frontend/pages/equipo/equipo-auditoria","title":"Auditor\xeda del Equipo","description":"Este componente representa una vista administrativa de auditor\xeda para gestionar y revisar los miembros del equipo de una empresa. Permite filtrar, editar roles, marcar perfiles como completos/incompletos, activar usuarios inactivos y realizar eliminaciones l\xf3gicas (soft delete).","source":"@site/docs/frontend/pages/equipo/EquipoAuditoria.md","sourceDirName":"frontend/pages/equipo","slug":"/frontend/pages/equipo/equipo-auditoria","permalink":"/producttrack/docs/frontend/pages/equipo/equipo-auditoria","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/pages/equipo/EquipoAuditoria.md","tags":[],"version":"current","frontMatter":{"id":"equipo-auditoria","title":"Auditor\xeda del Equipo","sidebar_label":"EquipoAuditoria"},"sidebar":"tutorialSidebar","previous":{"title":"Inventario","permalink":"/producttrack/docs/frontend/pages/empresarial/inventario-empresarial"},"next":{"title":"TeamManagement","permalink":"/producttrack/docs/frontend/pages/equipo/team-management"}}');var r=n(4848),o=n(8453);const a={id:"equipo-auditoria",title:"Auditor\xeda del Equipo",sidebar_label:"EquipoAuditoria"},l=void 0,d={},c=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udce6 Dependencias",id:"-dependencias",level:2},{value:"\ud83e\udde9 Props",id:"-props",level:2},{value:"\ud83e\uddf1 Estructuras de datos",id:"-estructuras-de-datos",level:2},{value:"\u2699\ufe0f L\xf3gica interna",id:"\ufe0f-l\xf3gica-interna",level:2},{value:"\ud83d\udccc Estado:",id:"-estado",level:3},{value:"\ud83d\udd01 Efectos:",id:"-efectos",level:3},{value:"\ud83d\udce4 Funciones principales:",id:"-funciones-principales",level:3},{value:"\ud83c\udfa8 Interfaz y dise\xf1o",id:"-interfaz-y-dise\xf1o",level:2},{value:"\ud83d\udd10 Reglas de acceso",id:"-reglas-de-acceso",level:2},{value:"\ud83d\udca1 Consideraciones adicionales",id:"-consideraciones-adicionales",level:2},{value:"\ud83d\udcdd Mejoras sugeridas",id:"-mejoras-sugeridas",level:2},{value:"\ud83e\uddea Ruta protegida",id:"-ruta-protegida",level:2}];function t(e){const i={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.p,{children:["Este componente representa una ",(0,r.jsx)(i.strong,{children:"vista administrativa de auditor\xeda"})," para gestionar y revisar los miembros del equipo de una empresa. Permite filtrar, editar roles, marcar perfiles como completos/incompletos, activar usuarios inactivos y realizar eliminaciones l\xf3gicas (soft delete)."]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"src/pages/equipo/EquipoAuditoria.tsx"})}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-dependencias",children:"\ud83d\udce6 Dependencias"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Hooks y contexto:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useUser"})," \u2013 Hook que proporciona el usuario autenticado actual."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useToast"})," \u2013 Hook personalizado para mostrar notificaciones."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useEffect"}),", ",(0,r.jsx)(i.code,{children:"useState"})," \u2013 Hooks de React."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Librer\xedas externas:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"axios"})," \u2013 Cliente HTTP para consumir endpoints protegidos por token."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"lucide-react"})," \u2013 Iconos (",(0,r.jsx)(i.code,{children:"Pencil"}),", ",(0,r.jsx)(i.code,{children:"Trash"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Constantes:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"url"})," \u2013 URL base para las peticiones a la API."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-props",children:"\ud83e\udde9 Props"}),"\n",(0,r.jsxs)(i.p,{children:["Este componente ",(0,r.jsx)(i.strong,{children:"no recibe props directamente"}),". Est\xe1 dise\xf1ado como ",(0,r.jsx)(i.strong,{children:"una vista protegida"})," para usuarios con roles ",(0,r.jsx)(i.code,{children:"ADMIN"})," o ",(0,r.jsx)(i.code,{children:"DESARROLLADOR"}),"."]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-estructuras-de-datos",children:"\ud83e\uddf1 Estructuras de datos"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-ts",children:'interface MiembroEquipo {\r\n  idUsuario: number;\r\n  nombreCompleto: string;\r\n  correo: string;\r\n  rolEquipo: "LECTOR" | "COMENTARISTA" | "EDITOR";\r\n  estado: "activo" | "inactivo";\r\n  perfilCompleto: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  deletedAt?: string | null;\r\n  empresaId: number;\r\n}\n'})}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-l\xf3gica-interna",children:"\u2699\ufe0f L\xf3gica interna"}),"\n",(0,r.jsx)(i.h3,{id:"-estado",children:"\ud83d\udccc Estado:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"miembros"}),": lista de usuarios cargados desde el backend."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"filtroNombre"}),", ",(0,r.jsx)(i.code,{children:"filtroCorreo"}),", ",(0,r.jsx)(i.code,{children:"filtroRol"}),", ",(0,r.jsx)(i.code,{children:"filtroEstado"}),", ",(0,r.jsx)(i.code,{children:"filtroPerfilCompleto"}),": filtros activos para la tabla."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"editar"}),": usuario que se est\xe1 editando actualmente."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"nuevoRol"}),", ",(0,r.jsx)(i.code,{children:"nuevoPerfilCompleto"}),": valores seleccionados en el modal de edici\xf3n."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"confirmEliminarId"}),": ID del usuario que se desea eliminar."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"activarUsuario"}),": indica si se debe reactivar un usuario inactivo."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-efectos",children:"\ud83d\udd01 Efectos:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"useEffect"}),": carga los miembros del equipo al montar el componente (",(0,r.jsx)(i.code,{children:"cargarMiembros"}),")."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-funciones-principales",children:"\ud83d\udce4 Funciones principales:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"cargarMiembros"}),": obtiene todos los miembros del equipo mediante API."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"filtrar"}),": aplica filtros de b\xfasqueda usando el endpoint de filtrado."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"actualizarRol"}),": actualiza el rol y perfil del usuario (y puede reactivarlo si est\xe1 inactivo)."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"eliminar"}),": realiza una eliminaci\xf3n l\xf3gica del usuario (",(0,r.jsx)(i.code,{children:"soft delete"}),")."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"esAutorizado"}),": verifica si el usuario autenticado tiene permisos (",(0,r.jsx)(i.code,{children:"ADMIN"})," o ",(0,r.jsx)(i.code,{children:"DESARROLLADOR"}),")."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-interfaz-y-dise\xf1o",children:"\ud83c\udfa8 Interfaz y dise\xf1o"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["T\xedtulo principal: ",(0,r.jsx)(i.code,{children:'"\ud83d\udc65 Auditor\xeda del Equipo"'})," con estilo destacado (",(0,r.jsx)(i.code,{children:"text-wine-red"}),")."]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Filtros (nombre, correo, rol, estado, perfil) dispuestos horizontalmente."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Tabla con las siguientes columnas:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"ID, Nombre, Correo, Rol, Estado, Empresa ID, Perfil Completo, Fechas de creaci\xf3n/actualizaci\xf3n/eliminaci\xf3n."}),"\n",(0,r.jsxs)(i.li,{children:["Acciones (",(0,r.jsx)(i.code,{children:"Editar"}),", ",(0,r.jsx)(i.code,{children:"Eliminar"}),") seg\xfan el rol del usuario."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Modal de edici\xf3n con:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Select para rol y perfil completo."}),"\n",(0,r.jsx)(i.li,{children:"Checkbox para reactivar usuarios inactivos."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Modal de confirmaci\xf3n de eliminaci\xf3n con advertencia clara."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-reglas-de-acceso",children:"\ud83d\udd10 Reglas de acceso"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Solo usuarios con rol ",(0,r.jsx)(i.code,{children:'"ADMIN"'})," o ",(0,r.jsx)(i.code,{children:'"DESARROLLADOR"'})," pueden acceder a esta vista."]}),"\n",(0,r.jsxs)(i.li,{children:["Si no tienen permisos, se muestra el mensaje:\r\n",(0,r.jsx)(i.code,{children:'"\u26a0\ufe0f No tienes permisos para acceder a esta auditor\xeda."'})," y se oculta el contenido."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-consideraciones-adicionales",children:"\ud83d\udca1 Consideraciones adicionales"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["El valor ",(0,r.jsx)(i.code,{children:"perfilCompleto"})," se interpreta de forma inversa en el UI:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"false"})," \u2192 ",(0,r.jsx)(i.code,{children:'"Perfil completo"'})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"true"})," \u2192 ",(0,r.jsx)(i.code,{children:'"Perfil incompleto"'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Se utiliza ",(0,r.jsx)(i.code,{children:"localStorage"})," para recuperar el token de autenticaci\xf3n."]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["El bot\xf3n de eliminaci\xf3n solo est\xe1 disponible para usuarios con rol ",(0,r.jsx)(i.code,{children:"ADMIN"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-mejoras-sugeridas",children:"\ud83d\udcdd Mejoras sugeridas"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Agregar indicadores de carga o spinners para mejorar la experiencia de usuario."}),"\n",(0,r.jsx)(i.li,{children:"Validaciones m\xe1s detalladas en el modal de edici\xf3n."}),"\n",(0,r.jsx)(i.li,{children:"Paginar la tabla si hay muchos registros."}),"\n",(0,r.jsx)(i.li,{children:"Confirmaci\xf3n adicional antes de aplicar reactivaciones masivas."}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-ruta-protegida",children:"\ud83e\uddea Ruta protegida"}),"\n",(0,r.jsx)(i.p,{children:"Este componente es parte de las rutas protegidas de equipo:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"/equipo/auditoria\n"})}),"\n",(0,r.jsx)(i.p,{children:"Est\xe1 destinado principalmente para fines administrativos y de monitoreo de usuarios del sistema."})]})}function u(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var s=n(6540);const r={},o=s.createContext(r);function a(e){const i=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);