"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6786],{5868:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"frontend/components/nutriscan/food-analyzer-nutriscan","title":"Analizador de Alimentos NutriScan","description":"Este componente React permite analizar alimentos a partir de im\xe1genes utilizando inteligencia artificial. Se comunica con funciones asincr\xf3nicas para realizar an\xe1lisis nutricionales autom\xe1ticos o b\xfasquedas manuales cuando es necesario.","source":"@site/docs/frontend/components/nutriscan/FoodAnalyzer.md","sourceDirName":"frontend/components/nutriscan","slug":"/frontend/components/nutriscan/food-analyzer-nutriscan","permalink":"/producttrack/docs/frontend/components/nutriscan/food-analyzer-nutriscan","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/components/nutriscan/FoodAnalyzer.md","tags":[],"version":"current","frontMatter":{"id":"food-analyzer-nutriscan","title":"Analizador de Alimentos NutriScan","sidebar_label":"FoodAnalyzer"},"sidebar":"tutorialSidebar","previous":{"title":"CommentsModal","permalink":"/producttrack/docs/frontend/components/individual/comentarios-modal-producto"},"next":{"title":"ImageUpload","permalink":"/producttrack/docs/frontend/components/nutriscan/image-upload"}}');var r=a(4848),s=a(8453);const l={id:"food-analyzer-nutriscan",title:"Analizador de Alimentos NutriScan",sidebar_label:"FoodAnalyzer"},c=void 0,o={},t=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udce6 Dependencias utilizadas",id:"-dependencias-utilizadas",level:2},{value:"\ud83e\udde9 Propiedades del componente",id:"-propiedades-del-componente",level:2},{value:"\ud83e\udde0 L\xf3gica interna",id:"-l\xf3gica-interna",level:2},{value:"\ud83d\udcf7 Selecci\xf3n de imagen",id:"-selecci\xf3n-de-imagen",level:3},{value:"\u2699\ufe0f An\xe1lisis autom\xe1tico",id:"\ufe0f-an\xe1lisis-autom\xe1tico",level:3},{value:"\ud83d\udd0d B\xfasqueda manual",id:"-b\xfasqueda-manual",level:3},{value:"\ud83d\udd04 Reset de estado",id:"-reset-de-estado",level:3},{value:"\ud83d\udcac Estructura de datos",id:"-estructura-de-datos",level:2},{value:"<code>NutritionData</code>",id:"nutritiondata",level:3},{value:"<code>RespuestaNutriScan</code>",id:"respuestanutriscan",level:3},{value:"\ud83c\udfa8 Dise\xf1o y estructura visual",id:"-dise\xf1o-y-estructura-visual",level:2},{value:"\ud83d\udca1 Ejemplo de uso",id:"-ejemplo-de-uso",level:2},{value:"\ud83d\udcdd Notas adicionales",id:"-notas-adicionales",level:2}];function d(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Este componente React permite analizar alimentos a partir de im\xe1genes utilizando inteligencia artificial. Se comunica con funciones asincr\xf3nicas para realizar an\xe1lisis nutricionales autom\xe1ticos o b\xfasquedas manuales cuando es necesario."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"src/components/nutriscan/FoodAnalyzer.tsx"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-dependencias-utilizadas",children:"\ud83d\udce6 Dependencias utilizadas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { useState } from 'react';\r\nimport ImageUpload from './ImageUpload';\r\nimport ProcessingState from './ProcessingState';\r\nimport NutritionCard from './NutritionCard';\r\nimport ManualSearch from './ManualSearch';\r\nimport { ShoppingBasket, Search, RotateCcw, ImagePlus } from 'lucide-react';\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"React"}),": Manejo de estado con ",(0,r.jsx)(n.code,{children:"useState"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Componentes personalizados"}),": ",(0,r.jsx)(n.code,{children:"ImageUpload"}),", ",(0,r.jsx)(n.code,{children:"ProcessingState"}),", ",(0,r.jsx)(n.code,{children:"NutritionCard"}),", ",(0,r.jsx)(n.code,{children:"ManualSearch"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"lucide-react"}),": \xcdconos SVG reutilizables como ",(0,r.jsx)(n.code,{children:"Search"}),", ",(0,r.jsx)(n.code,{children:"ImagePlus"}),", etc."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-propiedades-del-componente",children:"\ud83e\udde9 Propiedades del componente"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface FoodAnalyzerProps {\r\n  analizarImagen: (base64: string, token: string, nombreManual?: string) => Promise<RespuestaNutriScan>;\r\n  confirmarConsulta?: (id: number, nombreConfirmado: string, token: string) => Promise<RespuestaNutriScan>;\r\n}\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Propiedad"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"analizarImagen"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"(base64, token, nombreManual?) => Promise<RespuestaNutriScan>"})}),(0,r.jsx)(n.td,{children:"Funci\xf3n para analizar la imagen con IA."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"confirmarConsulta"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"(id, nombreConfirmado, token) => Promise<RespuestaNutriScan>"})," ",(0,r.jsx)(n.em,{children:"(opcional)"})]}),(0,r.jsx)(n.td,{children:"Funci\xf3n para confirmar una sugerencia del sistema si requiere validaci\xf3n manual."})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-l\xf3gica-interna",children:"\ud83e\udde0 L\xf3gica interna"}),"\n",(0,r.jsx)(n.h3,{id:"-selecci\xf3n-de-imagen",children:"\ud83d\udcf7 Selecci\xf3n de imagen"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const handleImageSelect = (imageUrl: string) => {\r\n  setSelectedImage(imageUrl);\r\n  setNutritionData(null);\r\n  setHasError(false);\r\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Limpia el estado anterior y guarda la imagen seleccionada para an\xe1lisis."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-an\xe1lisis-autom\xe1tico",children:"\u2699\ufe0f An\xe1lisis autom\xe1tico"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'const handleAnalyzeImage = async () => {\r\n  const token = localStorage.getItem("token");\r\n  const result = await analizarImagen(selectedImage, token);\r\n  ...\r\n};\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Utiliza el token del usuario desde ",(0,r.jsx)(n.code,{children:"localStorage"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Llama a ",(0,r.jsx)(n.code,{children:"analizarImagen"})," para obtener el resultado del backend."]}),"\n",(0,r.jsx)(n.li,{children:"Si se requiere confirmaci\xf3n, activa el flujo de b\xfasqueda manual."}),"\n",(0,r.jsx)(n.li,{children:"Si no, muestra la informaci\xf3n nutricional recibida en una tarjeta."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-b\xfasqueda-manual",children:"\ud83d\udd0d B\xfasqueda manual"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const handleManualSearch = async (productName: string) => {\r\n  const result = await confirmarConsulta(lastRegistroId, productName, token);\r\n  ...\r\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ejecutada cuando la IA requiere confirmaci\xf3n del usuario."}),"\n",(0,r.jsx)(n.li,{children:"Env\xeda el nombre del producto elegido manualmente al backend."}),"\n",(0,r.jsx)(n.li,{children:"Muestra la respuesta recibida como nutrici\xf3n v\xe1lida."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-reset-de-estado",children:"\ud83d\udd04 Reset de estado"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const handleReset = () => {\r\n  setSelectedImage(null);\r\n  setNutritionData(null);\r\n  ...\r\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Limpia todos los estados y permite al usuario comenzar un nuevo an\xe1lisis."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-estructura-de-datos",children:"\ud83d\udcac Estructura de datos"}),"\n",(0,r.jsx)(n.h3,{id:"nutritiondata",children:(0,r.jsx)(n.code,{children:"NutritionData"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface NutritionData {\r\n  food: string;\r\n  calories?: number;\r\n  nutritionInfo: string;\r\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"respuestanutriscan",children:(0,r.jsx)(n.code,{children:"RespuestaNutriScan"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface RespuestaNutriScan {\r\n  mensajeGPT: string;\r\n  requiereConfirmacion: boolean;\r\n  sugerencia?: string;\r\n  registro: {\r\n    id: number;\r\n    consulta: string;\r\n  };\r\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-dise\xf1o-y-estructura-visual",children:"\ud83c\udfa8 Dise\xf1o y estructura visual"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Interfaz amigable con fondo degradado."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Imagen del alimento cargada al centro."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Botones estilizados con \xedconos para analizar y reiniciar."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Vista condicional seg\xfan el estado:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Componente ",(0,r.jsx)(n.code,{children:"ImageUpload"})," si a\xfan no hay imagen."]}),"\n",(0,r.jsxs)(n.li,{children:["Componente ",(0,r.jsx)(n.code,{children:"ProcessingState"})," mientras analiza."]}),"\n",(0,r.jsxs)(n.li,{children:["Componente ",(0,r.jsx)(n.code,{children:"ManualSearch"})," si se requiere validaci\xf3n."]}),"\n",(0,r.jsxs)(n.li,{children:["Componente ",(0,r.jsx)(n.code,{children:"NutritionCard"})," al mostrar resultados."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-ejemplo-de-uso",children:"\ud83d\udca1 Ejemplo de uso"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<FoodAnalyzer\r\n  analizarImagen={analizarImagenFn}\r\n  confirmarConsulta={confirmarConsultaFn}\r\n/>\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"analizarImagenFn"}),": funci\xf3n definida que conecta con la API backend."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"confirmarConsultaFn"}),": funci\xf3n opcional para la validaci\xf3n de alimentos no reconocidos."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-notas-adicionales",children:"\ud83d\udcdd Notas adicionales"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Usa ",(0,r.jsx)(n.code,{children:"localStorage"})," para recuperar el token de autenticaci\xf3n del usuario."]}),"\n",(0,r.jsx)(n.li,{children:"El an\xe1lisis puede requerir confirmaci\xf3n manual en casos ambiguos."}),"\n",(0,r.jsxs)(n.li,{children:["El estado se maneja con ",(0,r.jsx)(n.code,{children:"useState"})," de forma granular (imagen, error, procesamiento, etc.)."]}),"\n",(0,r.jsx)(n.li,{children:"El flujo es progresivo: subir \u2192 analizar \u2192 mostrar o confirmar \u2192 mostrar."}),"\n",(0,r.jsx)(n.li,{children:"La estructura es totalmente reactiva y fluida para el usuario final."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>c});var i=a(6540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);