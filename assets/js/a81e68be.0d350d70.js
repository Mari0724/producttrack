"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2803],{450:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"frontend/pages/nutriscan/nutriscan-auditoria","title":"NutriScan Auditor\xeda","description":"La p\xe1gina NutriScanAuditoria ofrece una interfaz para que usuarios con roles administrativos (ADMIN, DESARROLLADOR) gestionen y auditen los registros de an\xe1lisis nutricionales realizados en la aplicaci\xf3n.","source":"@site/docs/frontend/pages/nutriscan/NutriScanAuditoria.md","sourceDirName":"frontend/pages/nutriscan","slug":"/frontend/pages/nutriscan/nutriscan-auditoria","permalink":"/producttrack/docs/frontend/pages/nutriscan/nutriscan-auditoria","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/pages/nutriscan/NutriScanAuditoria.md","tags":[],"version":"current","frontMatter":{"id":"nutriscan-auditoria","title":"NutriScan Auditor\xeda","sidebar_label":"NutriScan Auditor\xeda"},"sidebar":"tutorialSidebar","previous":{"title":"T\xe9rminos y Condiciones","permalink":"/producttrack/docs/frontend/pages/legal/terms-of-service"},"next":{"title":"NutriScan","permalink":"/producttrack/docs/frontend/pages/nutriscan/nutriscan"}}');var s=r(4848),a=r(8453);const d={id:"nutriscan-auditoria",title:"NutriScan Auditor\xeda",sidebar_label:"NutriScan Auditor\xeda"},o=void 0,c={},l=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"Importaciones principales",id:"importaciones-principales",level:2},{value:"Interfaces de datos",id:"interfaces-de-datos",level:2},{value:"<code>Respuesta</code>",id:"respuesta",level:3},{value:"<code>Registro</code>",id:"registro",level:3},{value:"Estado interno (React State)",id:"estado-interno-react-state",level:2},{value:"Funcionalidades principales",id:"funcionalidades-principales",level:2},{value:"<code>cargarTodos()</code>",id:"cargartodos",level:3},{value:"<code>buscarPorUsuarioId()</code>",id:"buscarporusuarioid",level:3},{value:"<code>limpiarFiltros()</code>",id:"limpiarfiltros",level:3},{value:"<code>manejarEditar(registro: Registro)</code>",id:"manejareditarregistro-registro",level:3},{value:"<code>guardarCambios()</code>",id:"guardarcambios",level:3},{value:"<code>confirmarEliminar(id: number)</code>",id:"confirmareliminarid-number",level:3},{value:"<code>eliminarRegistro()</code>",id:"eliminarregistro",level:3},{value:"Renderizado",id:"renderizado",level:2},{value:"Validaciones y permisos",id:"validaciones-y-permisos",level:2},{value:"Ejemplo de uso en aplicaci\xf3n",id:"ejemplo-de-uso-en-aplicaci\xf3n",level:2}];function t(e){const i={br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["La p\xe1gina ",(0,s.jsx)(i.code,{children:"NutriScanAuditoria"})," ofrece una interfaz para que usuarios con roles administrativos (",(0,s.jsx)(i.code,{children:"ADMIN"}),", ",(0,s.jsx)(i.code,{children:"DESARROLLADOR"}),") gestionen y auditen los registros de an\xe1lisis nutricionales realizados en la aplicaci\xf3n.",(0,s.jsx)(i.br,{}),"\n","Permite listar, filtrar, buscar, editar y eliminar registros de an\xe1lisis con detalles asociados."]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.code,{children:"src/pages/nutriscan/NutriScanAuditoria.tsx"})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"importaciones-principales",children:"Importaciones principales"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"axios"})," para comunicaci\xf3n HTTP con backend."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"useUser"})," para obtener informaci\xf3n del usuario actual (contexto)."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"url"})," constante base para la API."]}),"\n",(0,s.jsxs)(i.li,{children:["React hooks ",(0,s.jsx)(i.code,{children:"useState"}),", ",(0,s.jsx)(i.code,{children:"useEffect"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"interfaces-de-datos",children:"Interfaces de datos"}),"\n",(0,s.jsx)(i.h3,{id:"respuesta",children:(0,s.jsx)(i.code,{children:"Respuesta"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"mensaje: string"})," \u2014 texto con la respuesta del an\xe1lisis."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"generadoPor: string"})," \u2014 indica si la respuesta fue generada por GPT u otro mecanismo."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"registro",children:(0,s.jsx)(i.code,{children:"Registro"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"id: number"})," \u2014 identificador \xfanico del registro."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"consulta: string"})," \u2014 texto consultado para el an\xe1lisis."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"respuesta: Respuesta | null"})," \u2014 resultado del an\xe1lisis."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"fechaAnalisis: string"})," \u2014 fecha y hora del an\xe1lisis."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"esAlimento: boolean"})," \u2014 indica si el registro corresponde a un alimento."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:'tipoAnalisis: "ocr-gpt-only" | "ocr-openfoodfacts-gpt"'})," \u2014 tipo de an\xe1lisis aplicado."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"isTest?: boolean"})," \u2014 indica si es un registro de prueba."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"usuario"})," \u2014 objeto con:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"nombreCompleto: string"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:'tipoUsuario: "INDIVIDUAL"'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"estado-interno-react-state",children:"Estado interno (React State)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"registros"}),": lista de registros obtenidos."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"registroEditando"}),": registro seleccionado para editar."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"modalAbierto"}),": controla visibilidad del modal de edici\xf3n."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"confirmEliminarId"}),": id del registro pendiente de confirmaci\xf3n para eliminar."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"usuarioId"}),": input para b\xfasqueda por ID de usuario."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"filtroNombre"}),": filtro de b\xfasqueda por nombre."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"filtroFecha"}),": filtro de b\xfasqueda por fecha."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"error"}),": mensajes de error en la interfaz."]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"funcionalidades-principales",children:"Funcionalidades principales"}),"\n",(0,s.jsx)(i.h3,{id:"cargartodos",children:(0,s.jsx)(i.code,{children:"cargarTodos()"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Obtiene todos los registros de an\xe1lisis desde la API (",(0,s.jsx)(i.code,{children:"GET /nutriscan"}),")."]}),"\n",(0,s.jsxs)(i.li,{children:["Actualiza el estado ",(0,s.jsx)(i.code,{children:"registros"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"buscarporusuarioid",children:(0,s.jsx)(i.code,{children:"buscarPorUsuarioId()"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Busca registros asociados a un ID de usuario (",(0,s.jsx)(i.code,{children:"GET /nutriscan/usuario/{usuarioId}"}),")."]}),"\n",(0,s.jsxs)(i.li,{children:["Valida que el usuario sea tipo ",(0,s.jsx)(i.code,{children:'"INDIVIDUAL"'}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Actualiza el estado ",(0,s.jsx)(i.code,{children:"registros"})," o muestra error si no tiene acceso."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"limpiarfiltros",children:(0,s.jsx)(i.code,{children:"limpiarFiltros()"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Limpia todos los filtros y recarga todos los registros."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"manejareditarregistro-registro",children:(0,s.jsx)(i.code,{children:"manejarEditar(registro: Registro)"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Prepara el registro para edici\xf3n."}),"\n",(0,s.jsx)(i.li,{children:"Abre el modal de edici\xf3n con datos precargados."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"guardarcambios",children:(0,s.jsx)(i.code,{children:"guardarCambios()"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Env\xeda los cambios editados a la API (",(0,s.jsx)(i.code,{children:"PUT /nutriscan/{id}"}),")."]}),"\n",(0,s.jsx)(i.li,{children:"Cierra el modal y recarga la lista."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"confirmareliminarid-number",children:(0,s.jsx)(i.code,{children:"confirmarEliminar(id: number)"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Abre di\xe1logo para confirmar eliminaci\xf3n de un registro."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"eliminarregistro",children:(0,s.jsx)(i.code,{children:"eliminarRegistro()"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Elimina registro confirmado (",(0,s.jsx)(i.code,{children:"DELETE /nutriscan/{id}"}),")."]}),"\n",(0,s.jsx)(i.li,{children:"Recarga lista y cierra di\xe1logo."}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"renderizado",children:"Renderizado"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Muestra filtros y botones para buscar, limpiar y filtrar registros."}),"\n",(0,s.jsx)(i.li,{children:"Si el usuario no tiene rol adecuado, muestra mensaje de restricci\xf3n."}),"\n",(0,s.jsx)(i.li,{children:"Tabla con columnas: ID, Consulta, Respuesta GPT, Usuario, Fecha y Acciones (Editar, Eliminar)."}),"\n",(0,s.jsx)(i.li,{children:"Modal para edici\xf3n con campos: consulta, respuesta, tipo an\xe1lisis, es alimento, es test."}),"\n",(0,s.jsx)(i.li,{children:"Modal para confirmaci\xf3n de eliminaci\xf3n."}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"validaciones-y-permisos",children:"Validaciones y permisos"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Solo usuarios con roles ",(0,s.jsx)(i.code,{children:"ADMIN"})," o ",(0,s.jsx)(i.code,{children:"DESARROLLADOR"})," pueden acceder."]}),"\n",(0,s.jsxs)(i.li,{children:["La b\xfasqueda por ID valida que el usuario sea tipo ",(0,s.jsx)(i.code,{children:"INDIVIDUAL"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Manejo de errores en b\xfasqueda muestra mensajes claros."}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"ejemplo-de-uso-en-aplicaci\xf3n",children:"Ejemplo de uso en aplicaci\xf3n"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-tsx",children:"import NutriScanAuditoria from '../pages/nutriscan/NutriScanAuditoria';\r\n\r\nfunction AdminPanel() {\r\n  return (\r\n    <NutriScanAuditoria />\r\n  );\r\n}\n"})}),"\n",(0,s.jsx)(i.hr,{})]})}function u(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,i,r)=>{r.d(i,{R:()=>d,x:()=>o});var n=r(6540);const s={},a=n.createContext(s);function d(e){const i=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(a.Provider,{value:i},e.children)}}}]);