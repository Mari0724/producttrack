"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8045],{5288:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>d,default:()=>t,frontMatter:()=>l,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"backend/controllers/equipo.controller","title":"EquipoController","description":"Este controlador maneja las operaciones relacionadas con la gesti\xf3n de usuarios tipo \\"equipo\\" en el sistema.","source":"@site/docs/backend/controllers/equipo.controller.md","sourceDirName":"backend/controllers","slug":"/backend/controllers/equipo.controller","permalink":"/producttrack/docs/backend/controllers/equipo.controller","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/controllers/equipo.controller.md","tags":[],"version":"current","frontMatter":{"id":"equipo.controller","title":"EquipoController","sidebar_label":"Equipos"},"sidebar":"tutorialSidebar","previous":{"title":"Token","permalink":"/producttrack/docs/backend/config/token"},"next":{"title":"Login","permalink":"/producttrack/docs/backend/controllers/log.controller"}}');var r=s(4848),o=s(8453);const l={id:"equipo.controller",title:"EquipoController",sidebar_label:"Equipos"},d="Controlador de Equipo",c={},u=[{value:"\ud83d\udd10 Seguridad",id:"-seguridad",level:2},{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udccc Endpoints",id:"-endpoints",level:2},{value:"\ud83d\udce4 Crear nuevo equipo",id:"-crear-nuevo-equipo",level:3},{value:"Requiere",id:"requiere",level:4},{value:"Respuesta",id:"respuesta",level:4},{value:"\ud83d\udce5 Obtener todos los equipos",id:"-obtener-todos-los-equipos",level:3},{value:"Requiere",id:"requiere-1",level:4},{value:"Respuesta",id:"respuesta-1",level:4},{value:"\ud83d\udd0d Filtrar equipos",id:"-filtrar-equipos",level:3},{value:"Par\xe1metros (query)",id:"par\xe1metros-query",level:4},{value:"Requiere",id:"requiere-2",level:4},{value:"Respuesta",id:"respuesta-2",level:4},{value:"\ud83d\udcc4 Obtener equipo por ID",id:"-obtener-equipo-por-id",level:3},{value:"Requiere",id:"requiere-3",level:4},{value:"Respuesta",id:"respuesta-3",level:4},{value:"\u270f\ufe0f Actualizar equipo",id:"\ufe0f-actualizar-equipo",level:3},{value:"Requiere",id:"requiere-4",level:4},{value:"Respuesta",id:"respuesta-4",level:4},{value:"\u274c Eliminar equipo",id:"-eliminar-equipo",level:3},{value:"Requiere",id:"requiere-5",level:4},{value:"Respuesta",id:"respuesta-5",level:4},{value:"\u274c Eliminar todos los equipos de una empresa",id:"-eliminar-todos-los-equipos-de-una-empresa",level:3},{value:"Requiere",id:"requiere-6",level:4},{value:"Par\xe1metros",id:"par\xe1metros",level:4},{value:"Respuesta",id:"respuesta-6",level:4},{value:"\ud83d\udee0\ufe0f Notas t\xe9cnicas",id:"\ufe0f-notas-t\xe9cnicas",level:2}];function a(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"controlador-de-equipo",children:"Controlador de Equipo"})}),"\n",(0,r.jsx)(i.p,{children:'Este controlador maneja las operaciones relacionadas con la gesti\xf3n de usuarios tipo "equipo" en el sistema.'}),"\n",(0,r.jsx)(i.h2,{id:"-seguridad",children:"\ud83d\udd10 Seguridad"}),"\n",(0,r.jsxs)(i.p,{children:["Todas las rutas est\xe1n protegidas por JWT (",(0,r.jsx)(i.code,{children:'@Security("jwt")'}),"). Solo los usuarios ",(0,r.jsx)(i.strong,{children:"tipo EMPRESARIAL"})," o con rol ",(0,r.jsx)(i.strong,{children:"ADMIN"})," pueden realizar acciones sobre los miembros del equipo."]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.code,{children:"src/controllers/equipo.controller.ts"})}),"\n",(0,r.jsx)(i.h2,{id:"-endpoints",children:"\ud83d\udccc Endpoints"}),"\n",(0,r.jsx)(i.h3,{id:"-crear-nuevo-equipo",children:"\ud83d\udce4 Crear nuevo equipo"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"POST"})," ",(0,r.jsx)(i.code,{children:"/equipo"})]}),"\n",(0,r.jsx)(i.p,{children:"Crea un nuevo usuario de tipo equipo para una empresa."}),"\n",(0,r.jsx)(i.h4,{id:"requiere",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsxs)(i.li,{children:["Objeto ",(0,r.jsx)(i.code,{children:"EquipoDTO"})," en el cuerpo de la solicitud."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsxs)(i.strong,{children:["Solo pueden acceder usuarios con ",(0,r.jsx)(i.code,{children:"tipoUsuario: EMPRESARIAL"})," o ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Si el usuario es ",(0,r.jsx)(i.code,{children:"ADMIN"}),", debe incluir ",(0,r.jsx)(i.code,{children:"empresaId"})," en el cuerpo."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"201 Created"})," con el equipo creado."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"400 Bad Request"})," si falta ",(0,r.jsx)(i.code,{children:"empresaId"})," siendo ADMIN."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si no tiene permisos."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-obtener-todos-los-equipos",children:"\ud83d\udce5 Obtener todos los equipos"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"GET"})," ",(0,r.jsx)(i.code,{children:"/equipo"})]}),"\n",(0,r.jsx)(i.p,{children:"Devuelve una lista de todos los usuarios de equipo."}),"\n",(0,r.jsx)(i.h4,{id:"requiere-1",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsxs)(i.strong,{children:["Solo pueden acceder usuarios con ",(0,r.jsx)(i.code,{children:"tipoUsuario: EMPRESARIAL"})," o ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]})}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta-1",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Lista de equipos."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si no tiene permisos."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-filtrar-equipos",children:"\ud83d\udd0d Filtrar equipos"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"GET"})," ",(0,r.jsx)(i.code,{children:"/equipo/filtrar"})]}),"\n",(0,r.jsx)(i.p,{children:"Permite filtrar equipos por nombre, correo o rol dentro del equipo."}),"\n",(0,r.jsx)(i.h4,{id:"par\xe1metros-query",children:"Par\xe1metros (query)"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"nombreCompleto"})," (string) - Nombre completo del equipo."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"correo"})," (string) - Correo electr\xf3nico."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"rolEquipo"})," (",(0,r.jsx)(i.code,{children:"LECTOR"})," | ",(0,r.jsx)(i.code,{children:"COMENTARISTA"})," | ",(0,r.jsx)(i.code,{children:"EDITOR"}),") - Rol asignado."]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"requiere-2",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsxs)(i.strong,{children:["Solo pueden acceder usuarios con ",(0,r.jsx)(i.code,{children:"tipoUsuario: EMPRESARIAL"})," o ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]})}),"\n",(0,r.jsx)(i.li,{children:"Si el usuario es EMPRESARIAL, solo puede ver equipos de su empresa."}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta-2",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Lista de equipos que coinciden con los filtros."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si no tiene permisos."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-obtener-equipo-por-id",children:"\ud83d\udcc4 Obtener equipo por ID"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"GET"})," ",(0,r.jsx)(i.code,{children:"/equipo/{id}"})]}),"\n",(0,r.jsx)(i.p,{children:"Obtiene un equipo espec\xedfico por su ID."}),"\n",(0,r.jsx)(i.h4,{id:"requiere-3",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsxs)(i.strong,{children:["Solo pueden acceder usuarios con ",(0,r.jsx)(i.code,{children:"tipoUsuario: EMPRESARIAL"})," o ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]})}),"\n",(0,r.jsx)(i.li,{children:"Los usuarios EMPRESARIALES solo pueden ver equipos que pertenezcan a su empresa."}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta-3",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Objeto del equipo solicitado."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si el equipo no pertenece a su empresa."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"\ufe0f-actualizar-equipo",children:"\u270f\ufe0f Actualizar equipo"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"PUT"})," ",(0,r.jsx)(i.code,{children:"/equipo/{id}"})]}),"\n",(0,r.jsx)(i.p,{children:"Actualiza los datos de un equipo por su ID."}),"\n",(0,r.jsx)(i.h4,{id:"requiere-4",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsxs)(i.li,{children:["Cuerpo con campos a actualizar (",(0,r.jsx)(i.code,{children:"Partial<EquipoDTO>"}),")."]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsxs)(i.strong,{children:["Solo pueden acceder usuarios con ",(0,r.jsx)(i.code,{children:"tipoUsuario: EMPRESARIAL"})," o ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]})}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta-4",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Objeto del equipo actualizado."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si no tiene permisos o no pertenece a su empresa."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-eliminar-equipo",children:"\u274c Eliminar equipo"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"DELETE"})," ",(0,r.jsx)(i.code,{children:"/equipo/{id}"})]}),"\n",(0,r.jsx)(i.p,{children:"Elimina un equipo por su ID."}),"\n",(0,r.jsx)(i.h4,{id:"requiere-5",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsxs)(i.strong,{children:["Solo pueden acceder usuarios con ",(0,r.jsx)(i.code,{children:"tipoUsuario: EMPRESARIAL"})," o ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]})}),"\n",(0,r.jsx)(i.li,{children:"Los usuarios EMPRESARIALES solo pueden eliminar equipos de su propia empresa."}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta-5",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Confirmaci\xf3n de eliminaci\xf3n."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si no tiene permisos o no pertenece a su empresa."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"-eliminar-todos-los-equipos-de-una-empresa",children:"\u274c Eliminar todos los equipos de una empresa"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"DELETE"})," ",(0,r.jsx)(i.code,{children:"/equipo/todos/{empresaId}"})]}),"\n",(0,r.jsx)(i.p,{children:"Elimina todos los equipos asociados a una empresa."}),"\n",(0,r.jsx)(i.h4,{id:"requiere-6",children:"Requiere"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Token JWT v\xe1lido."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Solo pueden acceder:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Usuarios con ",(0,r.jsx)(i.code,{children:"rol: ADMIN"}),"."]}),"\n",(0,r.jsxs)(i.li,{children:["Usuarios EMPRESARIALES que quieran eliminar los equipos de su ",(0,r.jsx)(i.strong,{children:"propia"})," empresa."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"par\xe1metros",children:"Par\xe1metros"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"empresaId"})," (path) \u2013 ID de la empresa cuyos equipos ser\xe1n eliminados."]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"respuesta-6",children:"Respuesta"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Confirmaci\xf3n de eliminaci\xf3n masiva."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"403 Forbidden"})," si intenta eliminar los equipos de otra empresa."]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h2,{id:"\ufe0f-notas-t\xe9cnicas",children:"\ud83d\udee0\ufe0f Notas t\xe9cnicas"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Todas las acciones usan ",(0,r.jsx)(i.code,{children:"EquipoService"})," para la l\xf3gica de negocio."]}),"\n",(0,r.jsxs)(i.li,{children:["Se verifica el tipo de usuario (",(0,r.jsx)(i.code,{children:"EMPRESARIAL"}),") o el rol (",(0,r.jsx)(i.code,{children:"ADMIN"}),") en cada endpoint."]}),"\n",(0,r.jsxs)(i.li,{children:["Se protege el acceso y la integridad de los datos seg\xfan el ",(0,r.jsx)(i.code,{children:"empresaId"}),"."]}),"\n"]})]})}function t(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>l,x:()=>d});var n=s(6540);const r={},o=n.createContext(r);function l(e){const i=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(o.Provider,{value:i},e.children)}}}]);