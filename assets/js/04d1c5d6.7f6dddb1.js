"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8908],{8453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>o});var n=r(6540);const i={},d=n.createContext(i);function a(e){const s=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(d.Provider,{value:s},e.children)}},9442:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"backend/routes/user.routes","title":"Rutas Imagenes Usuario","description":"Este archivo define las rutas relacionadas con la gesti\xf3n de usuarios en la aplicaci\xf3n. Incluye operaciones para crear un nuevo usuario y actualizar su foto de perfil. Se utiliza Express, el middleware upload para manejo de archivos, validaci\xf3n con Zod, y funciones de servicio definidas en user.service.","source":"@site/docs/backend/routes/user.routes.md","sourceDirName":"backend/routes","slug":"/backend/routes/user.routes","permalink":"/producttrack/docs/backend/routes/user.routes","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/routes/user.routes.md","tags":[],"version":"current","frontMatter":{"id":"user.routes","title":"Rutas Imagenes Usuario","sidebar_label":"User Routes"},"sidebar":"tutorialSidebar","previous":{"title":"OCR","permalink":"/producttrack/docs/backend/routes/ocr-routes"},"next":{"title":"Equipo Service","permalink":"/producttrack/docs/backend/services/equipo.service"}}');var i=r(4848),d=r(8453);const a={id:"user.routes",title:"Rutas Imagenes Usuario",sidebar_label:"User Routes"},o="user.routes.ts",c={},l=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udccc Rutas definidas",id:"-rutas-definidas",level:2},{value:"\ud83d\udccd POST <code>/usuarios</code>",id:"-post-usuarios",level:3},{value:"\ud83d\udccd PUT <code>/usuarios/:id/foto</code>",id:"-put-usuariosidfoto",level:3},{value:"\u2699\ufe0f Dependencias utilizadas",id:"\ufe0f-dependencias-utilizadas",level:2}];function t(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"userroutests",children:"user.routes.ts"})}),"\n",(0,i.jsxs)(s.p,{children:["Este archivo define las rutas relacionadas con la ",(0,i.jsx)(s.strong,{children:"gesti\xf3n de usuarios"})," en la aplicaci\xf3n. Incluye operaciones para crear un nuevo usuario y actualizar su foto de perfil. Se utiliza ",(0,i.jsx)(s.code,{children:"Express"}),", el middleware ",(0,i.jsx)(s.code,{children:"upload"})," para manejo de archivos, validaci\xf3n con ",(0,i.jsx)(s.code,{children:"Zod"}),", y funciones de servicio definidas en ",(0,i.jsx)(s.code,{children:"user.service"}),"."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"src/routes/user.routes.ts"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"-rutas-definidas",children:"\ud83d\udccc Rutas definidas"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h3,{id:"-post-usuarios",children:["\ud83d\udccd POST ",(0,i.jsx)(s.code,{children:"/usuarios"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"}),"\r\nRegistra un nuevo usuario en el sistema. Permite subir una foto de perfil como parte del formulario ",(0,i.jsx)(s.code,{children:"multipart/form-data"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Middleware:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'upload.single("fotoPerfil")'}),": Maneja la carga del archivo de imagen."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"zodValidate(userSchema, body)"}),": Valida los datos recibidos usando el esquema de ",(0,i.jsx)(s.code,{children:"Zod"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsxs)(s.strong,{children:["Cuerpo de la petici\xf3n (",(0,i.jsx)(s.code,{children:"req.body"}),"):"]}),"\r\nDebe cumplir con el esquema definido en ",(0,i.jsx)(s.code,{children:"userSchema"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["Respuesta exitosa (",(0,i.jsx)(s.code,{children:"201"}),"):"]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\r\n  "message": "Usuario creado correctamente",\r\n  "data": {\r\n    // Usuario creado con todos sus datos\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Errores posibles:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"400"}),": Datos inv\xe1lidos seg\xfan validaci\xf3n Zod."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"500"}),": Error interno del servidor."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h3,{id:"-put-usuariosidfoto",children:["\ud83d\udccd PUT ",(0,i.jsx)(s.code,{children:"/usuarios/:id/foto"})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"}),"\r\nActualiza la foto de perfil de un usuario existente mediante su ",(0,i.jsx)(s.code,{children:"ID"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Par\xe1metros de ruta:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"id"})," (number): ID del usuario."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Middleware:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'upload.single("fotoPerfil")'}),": Maneja la carga de la imagen."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Cuerpo esperado:"}),"\r\nFormulario ",(0,i.jsx)(s.code,{children:"multipart/form-data"})," que incluya el archivo ",(0,i.jsx)(s.code,{children:"fotoPerfil"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["Respuesta exitosa (",(0,i.jsx)(s.code,{children:"200"}),"):"]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\r\n  "message": "Foto de perfil actualizada",\r\n  "url": "ruta/guardada/de/la/imagen"\r\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Errores posibles:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"400"}),": ID inv\xe1lido o imagen no enviada."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"500"}),": Error interno al intentar guardar o procesar la imagen."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"\ufe0f-dependencias-utilizadas",children:"\u2699\ufe0f Dependencias utilizadas"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"express.Router"}),": Para definir las rutas."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"upload"}),": Middleware personalizado para manejo de archivos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"zodValidate"}),": Funci\xf3n utilitaria para validaci\xf3n con Zod."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"userSchema"}),": Esquema de validaci\xf3n para usuarios."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"createUser"}),", ",(0,i.jsx)(s.code,{children:"updateUser"}),": Funciones de servicio para interactuar con la base de datos."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}}}]);