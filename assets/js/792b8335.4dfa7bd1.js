"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5776],{6729:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"backend/services/openfoodfacts.service","title":"Servicio OpenFoodFacts","description":"Este servicio proporciona una interfaz para realizar b\xfasquedas de alimentos usando la API p\xfablica de OpenFoodFacts, con el fin de obtener informaci\xf3n nutricional que ser\xe1 utilizada posteriormente por otros m\xf3dulos como NutriScanService.","source":"@site/docs/backend/services/openfoodfacts.service.md","sourceDirName":"backend/services","slug":"/backend/services/openfoodfacts.service","permalink":"/producttrack/docs/backend/services/openfoodfacts.service","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/backend/services/openfoodfacts.service.md","tags":[],"version":"current","frontMatter":{"id":"openfoodfacts.service","title":"Servicio OpenFoodFacts","sidebar_label":"OpenFoodFacts"},"sidebar":"tutorialSidebar","previous":{"title":"NutriScan","permalink":"/producttrack/docs/backend/services/nutriscan.service"},"next":{"title":"Token Service","permalink":"/producttrack/docs/backend/services/token.service"}}');var o=r(4848),c=r(8453);const i={id:"openfoodfacts.service",title:"Servicio OpenFoodFacts",sidebar_label:"OpenFoodFacts"},d=void 0,t={},l=[{value:"\ud83d\udccc Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83c\udfaf Prop\xf3sito",id:"-prop\xf3sito",level:2},{value:"\ud83d\udce6 Dependencias",id:"-dependencias",level:2},{value:"\ud83d\udd27 Clase: <code>OpenFoodFactsService</code>",id:"-clase-openfoodfactsservice",level:2},{value:"\ud83d\udd0d M\xe9todo est\xe1tico: <code>buscarAlimentoPorNombre(nombre: string)</code>",id:"-m\xe9todo-est\xe1tico-buscaralimentopornombrenombre-string",level:3},{value:"\ud83d\ude80 Proceso",id:"-proceso",level:4},{value:"\ud83e\uddea Ejemplo de uso",id:"-ejemplo-de-uso",level:4},{value:"\ud83d\udce4 Retorno",id:"-retorno",level:4},{value:"\u26a0\ufe0f Manejo de errores",id:"\ufe0f-manejo-de-errores",level:2},{value:"\ud83e\uddfe Resumen",id:"-resumen",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Este servicio proporciona una interfaz para realizar b\xfasquedas de alimentos usando la API p\xfablica de ",(0,o.jsx)(n.strong,{children:"OpenFoodFacts"}),", con el fin de obtener informaci\xf3n nutricional que ser\xe1 utilizada posteriormente por otros m\xf3dulos como ",(0,o.jsx)(n.code,{children:"NutriScanService"}),"."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udccc Ubicaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"src/services/openfoodfacts.service.ts"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-prop\xf3sito",children:"\ud83c\udfaf Prop\xf3sito"}),"\n",(0,o.jsx)(n.p,{children:"Permite buscar alimentos por nombre utilizando la API de OpenFoodFacts y devuelve los resultados en un formato limpio, con solo la informaci\xf3n nutricional relevante."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-dependencias",children:"\ud83d\udce6 Dependencias"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import axios from "axios";\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Se utiliza ",(0,o.jsx)(n.code,{children:"axios"})," para realizar solicitudes HTTP."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"-clase-openfoodfactsservice",children:["\ud83d\udd27 Clase: ",(0,o.jsx)(n.code,{children:"OpenFoodFactsService"})]}),"\n",(0,o.jsxs)(n.h3,{id:"-m\xe9todo-est\xe1tico-buscaralimentopornombrenombre-string",children:["\ud83d\udd0d M\xe9todo est\xe1tico: ",(0,o.jsx)(n.code,{children:"buscarAlimentoPorNombre(nombre: string)"})]}),"\n",(0,o.jsx)(n.p,{children:"Realiza una b\xfasqueda de alimentos en la API de OpenFoodFacts utilizando un nombre proporcionado."}),"\n",(0,o.jsx)(n.h4,{id:"-proceso",children:"\ud83d\ude80 Proceso"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Hace una solicitud ",(0,o.jsx)(n.code,{children:"GET"})," a ",(0,o.jsx)(n.code,{children:"https://world.openfoodfacts.org/cgi/search.pl"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Env\xeda los siguientes par\xe1metros:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"search_terms"}),": t\xe9rmino de b\xfasqueda."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"search_simple"}),": ",(0,o.jsx)(n.code,{children:"1"})," (modo simple)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"action"}),": ",(0,o.jsx)(n.code,{children:'"process"'}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"json"}),": ",(0,o.jsx)(n.code,{children:"1"})," (respuesta en formato JSON)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Extrae los primeros 3 productos de la respuesta."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Filtra y estructura solo los campos relevantes."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"-ejemplo-de-uso",children:"\ud83e\uddea Ejemplo de uso"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'const resultados = await OpenFoodFactsService.buscarAlimentoPorNombre("galletas");\n'})}),"\n",(0,o.jsx)(n.h4,{id:"-retorno",children:"\ud83d\udce4 Retorno"}),"\n",(0,o.jsx)(n.p,{children:"Un arreglo con hasta 3 objetos que contienen:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Campo"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nombre"})}),(0,o.jsx)(n.td,{children:"Nombre del producto."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nutriments"})}),(0,o.jsx)(n.td,{children:"Objeto con nutrientes por 100g."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nutriscore"})}),(0,o.jsx)(n.td,{children:"Calificaci\xf3n nutricional (A-E)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"nova_group"})}),(0,o.jsx)(n.td,{children:"Grado de procesamiento (1-4)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"imagen"})}),(0,o.jsx)(n.td,{children:"URL de la imagen del producto."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"link"})}),(0,o.jsx)(n.td,{children:"Enlace al producto en OpenFoodFacts."})]})]})]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Nota: Todos los valores nutricionales son estimados por cada 100g del producto, seg\xfan lo reportado por OpenFoodFacts."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Ejemplo de un resultado filtrado:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'{\r\n  nombre: "Galletas de avena",\r\n  nutriments: {\r\n    calorias: 480,\r\n    azucares: 22,\r\n    grasas: 20,\r\n    grasas_saturadas: 8,\r\n    grasas_trans: null,\r\n    sodio: 0.3,\r\n    fibra: 3,\r\n    proteinas: 6\r\n  },\r\n  nutriscore: "c",\r\n  nova_group: 4,\r\n  imagen: "https://...",\r\n  link: "https://..."\r\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"\ufe0f-manejo-de-errores",children:"\u26a0\ufe0f Manejo de errores"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Si ocurre alg\xfan error en la solicitud, se captura con ",(0,o.jsx)(n.code,{children:"try/catch"})," y se imprime en consola con ",(0,o.jsx)(n.code,{children:"console.error"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Se retorna un arreglo vac\xedo como fallback."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-resumen",children:"\ud83e\uddfe Resumen"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Elemento"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"API utilizada"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://world.openfoodfacts.org",children:"OpenFoodFacts"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Formato de salida"}),(0,o.jsx)(n.td,{children:"Simplificado (m\xe1x. 3 productos, solo info relevante)"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Uso principal"}),(0,o.jsxs)(n.td,{children:["Integraci\xf3n con ",(0,o.jsx)(n.code,{children:"NutriScanService"})," para an\xe1lisis nutricional."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Fallback"}),(0,o.jsxs)(n.td,{children:["Retorna ",(0,o.jsx)(n.code,{children:"[]"})," si hay error o no hay resultados."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>d});var s=r(6540);const o={},c=s.createContext(o);function i(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);