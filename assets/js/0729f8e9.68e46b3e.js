"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9107],{5347:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"frontend/pages/auth/verificar-codigo","title":"Pantalla de Verificaci\xf3n de C\xf3digo","description":"El componente VerificarCodigo permite a los usuarios restablecer su contrase\xf1a despu\xe9s de haber recibido un c\xf3digo de verificaci\xf3n de 6 d\xedgitos. Incluye validaci\xf3n visual de contrase\xf1a, interacci\xf3n con el backend, y retroalimentaci\xf3n clara para el usuario mediante toast.","source":"@site/docs/frontend/pages/auth/VerificarCodigo.md","sourceDirName":"frontend/pages/auth","slug":"/frontend/pages/auth/verificar-codigo","permalink":"/producttrack/docs/frontend/pages/auth/verificar-codigo","draft":false,"unlisted":false,"editUrl":"https://github.com/Mari0724/producttrack/docs/frontend/pages/auth/VerificarCodigo.md","tags":[],"version":"current","frontMatter":{"id":"verificar-codigo","title":"Pantalla de Verificaci\xf3n de C\xf3digo","sidebar_label":"VerificarCodigo"},"sidebar":"tutorialSidebar","previous":{"title":"Register","permalink":"/producttrack/docs/frontend/pages/auth/register"},"next":{"title":"Reportes","permalink":"/producttrack/docs/frontend/pages/desarrollador/reportes-desarrollador"}}');var d=i(4848),c=i(8453);const l={id:"verificar-codigo",title:"Pantalla de Verificaci\xf3n de C\xf3digo",sidebar_label:"VerificarCodigo"},r=void 0,o={},a=[{value:"\ud83d\udd0d Ubicaci\xf3n",id:"-ubicaci\xf3n",level:2},{value:"\ud83d\udce6 Dependencias",id:"-dependencias",level:2},{value:"\u2699\ufe0f Propiedades",id:"\ufe0f-propiedades",level:2},{value:"\ud83e\udde0 L\xf3gica Interna",id:"-l\xf3gica-interna",level:2},{value:"\ud83d\udce5 Estado",id:"-estado",level:3},{value:"\ud83d\udd01 <code>useEffect</code>",id:"-useeffect",level:3},{value:"\ud83d\udd22 Manejo de C\xf3digo de Verificaci\xf3n",id:"-manejo-de-c\xf3digo-de-verificaci\xf3n",level:3},{value:"\u2705 Validaciones",id:"-validaciones",level:3},{value:"\ud83d\udce4 <code>handleSubmit</code>",id:"-handlesubmit",level:2},{value:"\ud83e\uddf1 Estructura del Componente",id:"-estructura-del-componente",level:2},{value:"\ud83c\udfa8 Estilos y Dise\xf1o",id:"-estilos-y-dise\xf1o",level:2},{value:"\ud83d\udca1 Ejemplo de Flujo",id:"-ejemplo-de-flujo",level:2},{value:"\ud83d\udcdd Notas Adicionales",id:"-notas-adicionales",level:2}];function t(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:["El componente ",(0,d.jsx)(n.code,{children:"VerificarCodigo"})," permite a los usuarios ",(0,d.jsx)(n.strong,{children:"restablecer su contrase\xf1a"})," despu\xe9s de haber recibido un ",(0,d.jsx)(n.strong,{children:"c\xf3digo de verificaci\xf3n de 6 d\xedgitos"}),". Incluye validaci\xf3n visual de contrase\xf1a, interacci\xf3n con el backend, y retroalimentaci\xf3n clara para el usuario mediante ",(0,d.jsx)(n.code,{children:"toast"}),"."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-ubicaci\xf3n",children:"\ud83d\udd0d Ubicaci\xf3n"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"src/pages/auth/VerificarCodigo.tsx"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-dependencias",children:"\ud83d\udce6 Dependencias"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"React Hooks:"})," ",(0,d.jsx)(n.code,{children:"useState"}),", ",(0,d.jsx)(n.code,{children:"useRef"}),", ",(0,d.jsx)(n.code,{children:"useEffect"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"React Router Dom:"})," ",(0,d.jsx)(n.code,{children:"useNavigate"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Lucide Icons:"})," ",(0,d.jsx)(n.code,{children:"Shield"}),", ",(0,d.jsx)(n.code,{children:"Eye"}),", ",(0,d.jsx)(n.code,{children:"EyeOff"}),", ",(0,d.jsx)(n.code,{children:"ArrowLeft"}),", ",(0,d.jsx)(n.code,{children:"CheckCircle"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Custom Hooks:"})," ",(0,d.jsx)(n.code,{children:"useToast"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Servicios:"})," ",(0,d.jsx)(n.code,{children:"confirmarReset"})," de ",(0,d.jsx)(n.code,{children:"authService"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ufe0f-propiedades",children:"\u2699\ufe0f Propiedades"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["El componente ",(0,d.jsx)(n.strong,{children:"no recibe props"}),". Toda la l\xf3gica y datos est\xe1n contenidos internamente."]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-l\xf3gica-interna",children:"\ud83e\udde0 L\xf3gica Interna"}),"\n",(0,d.jsx)(n.h3,{id:"-estado",children:"\ud83d\udce5 Estado"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Estado"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"code"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"string[]"})}),(0,d.jsx)(n.td,{children:"Representa cada d\xedgito del c\xf3digo de verificaci\xf3n ingresado (6 d\xedgitos)."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"password"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"string"})}),(0,d.jsx)(n.td,{children:"Nueva contrase\xf1a ingresada por el usuario."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"showPassword"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"boolean"})}),(0,d.jsx)(n.td,{children:"Alterna la visibilidad del campo de contrase\xf1a."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"isLoading"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"boolean"})}),(0,d.jsx)(n.td,{children:"Muestra estado de carga durante la llamada a la API."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"passwordValidation"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"object"})}),(0,d.jsx)(n.td,{children:"Indica si la contrase\xf1a cumple con requisitos de seguridad (5 criterios)."})]})]})]}),"\n",(0,d.jsxs)(n.h3,{id:"-useeffect",children:["\ud83d\udd01 ",(0,d.jsx)(n.code,{children:"useEffect"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Cada vez que ",(0,d.jsx)(n.code,{children:"password"})," cambia, se actualiza ",(0,d.jsx)(n.code,{children:"passwordValidation"})," con base en:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Longitud m\xednima de 8"}),"\n",(0,d.jsx)(n.li,{children:"Al menos una may\xfascula"}),"\n",(0,d.jsx)(n.li,{children:"Al menos una min\xfascula"}),"\n",(0,d.jsx)(n.li,{children:"Al menos un n\xfamero"}),"\n",(0,d.jsx)(n.li,{children:"Al menos un s\xedmbolo especial"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"-manejo-de-c\xf3digo-de-verificaci\xf3n",children:"\ud83d\udd22 Manejo de C\xf3digo de Verificaci\xf3n"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"handleCodeChange(index, value)"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Actualiza el d\xedgito en la posici\xf3n ",(0,d.jsx)(n.code,{children:"index"})]}),"\n",(0,d.jsx)(n.li,{children:"Enfoca autom\xe1ticamente el siguiente input"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"handleKeyDown(index, e)"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Si presiona ",(0,d.jsx)(n.code,{children:"Backspace"})," en un campo vac\xedo, vuelve al anterior"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"-validaciones",children:"\u2705 Validaciones"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"isPasswordValid"}),": Retorna ",(0,d.jsx)(n.code,{children:"true"})," si todos los criterios de seguridad se cumplen."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"isCodeComplete"}),": Retorna ",(0,d.jsx)(n.code,{children:"true"})," si los 6 d\xedgitos est\xe1n completos."]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"-handlesubmit",children:["\ud83d\udce4 ",(0,d.jsx)(n.code,{children:"handleSubmit"})]}),"\n",(0,d.jsx)(n.p,{children:"Funci\xf3n que:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Valida el c\xf3digo y contrase\xf1a."}),"\n",(0,d.jsxs)(n.li,{children:["Llama a ",(0,d.jsx)(n.code,{children:"confirmarReset(codeString, password)"})," del backend."]}),"\n",(0,d.jsxs)(n.li,{children:["Muestra ",(0,d.jsx)(n.code,{children:"toast.success"})," o ",(0,d.jsx)(n.code,{children:"toast.error"})," seg\xfan resultado."]}),"\n",(0,d.jsxs)(n.li,{children:["Redirige a ",(0,d.jsx)(n.code,{children:"/"})," al \xe9xito."]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-estructura-del-componente",children:"\ud83e\uddf1 Estructura del Componente"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Contenedor Principal"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Pantalla centrada (",(0,d.jsx)(n.code,{children:"flex items-center justify-center"}),") con un dise\xf1o limpio (",(0,d.jsx)(n.code,{children:"shadow-xl"}),", ",(0,d.jsx)(n.code,{children:"rounded-2xl"}),")."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Formulario"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Secci\xf3n de ingreso de c\xf3digo:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"6 inputs individuales, con navegaci\xf3n autom\xe1tica"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Secci\xf3n de nueva contrase\xf1a:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Campo con bot\xf3n de mostrar/ocultar"}),"\n",(0,d.jsxs)(n.li,{children:["Validaciones visuales con \xedconos (",(0,d.jsx)(n.code,{children:"CheckCircle"}),")"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Bot\xf3n de env\xedo:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Inactivo si no hay c\xf3digo completo o contrase\xf1a v\xe1lida"}),"\n",(0,d.jsxs)(n.li,{children:["Spinner visible durante carga (",(0,d.jsx)(n.code,{children:"Restableciendo..."}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Bot\xf3n Volver Atr\xe1s"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Usa ",(0,d.jsx)(n.code,{children:"navigate('/recuperar-clave')"})," para retroceder"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Marca ProductTrack"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Pie de p\xe1gina con logo y nombre"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-estilos-y-dise\xf1o",children:"\ud83c\udfa8 Estilos y Dise\xf1o"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Usa ",(0,d.jsx)(n.strong,{children:"Tailwind CSS"})," para una apariencia moderna y responsiva."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Inputs estilizados con:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"focus:ring-vinotinto"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"rounded-lg"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"text-lg font-semibold"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Validaciones de contrase\xf1a en verde (",(0,d.jsx)(n.code,{children:"text-green-600"}),") si se cumplen."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Loader con animaci\xf3n giratoria (",(0,d.jsx)(n.code,{children:"animate-spin"}),") mientras se env\xeda."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-ejemplo-de-flujo",children:"\ud83d\udca1 Ejemplo de Flujo"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Usuario llega a la p\xe1gina tras solicitar recuperar contrase\xf1a."}),"\n",(0,d.jsx)(n.li,{children:"Recibe un c\xf3digo de 6 d\xedgitos en su correo."}),"\n",(0,d.jsx)(n.li,{children:"Ingresan el c\xf3digo y nueva contrase\xf1a."}),"\n",(0,d.jsx)(n.li,{children:"Validaci\xf3n visual les gu\xeda con feedback inmediato."}),"\n",(0,d.jsx)(n.li,{children:"Al enviar y ser exitoso, son redirigidos al login o home."}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-notas-adicionales",children:"\ud83d\udcdd Notas Adicionales"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["El componente est\xe1 totalmente desacoplado del backend salvo por ",(0,d.jsx)(n.code,{children:"confirmarReset"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"Internamente maneja todas sus validaciones y navegaci\xf3n."}),"\n",(0,d.jsxs)(n.li,{children:["Mejora la experiencia del usuario con validaciones en tiempo real y ",(0,d.jsx)(n.code,{children:"toasts"})," informativos."]}),"\n",(0,d.jsx)(n.li,{children:"Es clave que el c\xf3digo llegue correctamente v\xeda email y el backend est\xe9 sincronizado con esa l\xf3gica."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var s=i(6540);const d={},c=s.createContext(d);function l(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);